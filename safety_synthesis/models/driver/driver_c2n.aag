aag 978 52 78 1 848
2
4
6
8
10
12
14
16
18
20
22
24
26
28
30
32
34
36
38
40
42
44
46
48
50
52
54
56
58
60
62
64
66
68
70
72
74
76
78
80
82
84
86
88
90
92
94
96
98
100
102
104
106 1
108 331
110 343
112 355
114 371
116 383
118 395
120 407
122 419
124 437
126 449
128 461
130 473
132 485
134 497
136 509
138 521
140 619
142 638
144 656
146 673
148 685
150 697
152 709
154 721
156 733
158 745
160 757
162 769
164 793
166 811
168 829
170 839
172 853
174 875
176 893
178 911
180 1065
182 1093
184 1099
186 1105
188 1111
190 1123
192 1135
194 1147
196 1651
198 1700
200 1738
202 1776
204 1783
206 1789
208 1795
210 1801
212 1807
214 1813
216 1819
218 1825
220 1831
222 1832
224 1840
226 1851
228 1857
230 1863
232 1869
234 1875
236 1881
238 1891
240 1897
242 1903
244 1909
246 1915
248 1921
250 1927
252 1933
254 1939
256 1945
258 1951
260 1957
305
262 225 106
264 224 106
266 263 106
268 223 106
270 222 106
272 269 106
274 271 266
276 275 267
278 95 93
280 278 97
282 281 96
284 282 279
286 94 92
288 287 279
290 279 97
292 278 96
294 293 291
296 92 91
298 296 288
300 298 294
302 301 285
304 302 276
306 93 91
308 306 95
310 308 97
312 310 54
314 4 3
316 314 7
318 316 312
320 109 106
322 108 106
324 321 106
326 318 8
328 322 319
330 329 327
332 111 106
334 110 106
336 333 106
338 318 10
340 334 319
342 341 339
344 113 106
346 112 106
348 345 106
350 318 12
352 346 319
354 353 351
356 306 94
358 356 97
360 115 106
362 114 106
364 361 106
366 358 28
368 362 359
370 369 367
372 117 106
374 116 106
376 373 106
378 358 30
380 374 359
382 381 379
384 119 106
386 118 106
388 385 106
390 358 32
392 386 359
394 393 391
396 121 106
398 120 106
400 397 106
402 358 14
404 398 359
406 405 403
408 123 106
410 122 106
412 409 106
414 358 16
416 410 359
418 417 415
420 5 2
422 420 7
424 422 312
426 125 106
428 124 106
430 427 106
432 424 8
434 428 425
436 435 433
438 127 106
440 126 106
442 439 106
444 424 10
446 440 425
448 447 445
450 129 106
452 128 106
454 451 106
456 358 68
458 452 359
460 459 457
462 131 106
464 130 106
466 463 106
468 358 70
470 464 359
472 471 469
474 133 106
476 132 106
478 475 106
480 358 72
482 476 359
484 483 481
486 135 106
488 134 106
490 487 106
492 358 34
494 488 359
496 495 493
498 137 106
500 136 106
502 499 106
504 358 36
506 500 359
508 507 505
510 139 106
512 138 106
514 511 106
516 358 38
518 512 359
520 519 517
522 93 90
524 522 95
526 524 96
528 141 106
530 140 106
532 529 106
534 143 106
536 142 106
538 535 106
540 145 106
542 144 106
544 541 106
546 537 531
548 546 543
550 548 526
552 441 430
554 552 550
556 442 429
558 556 550
560 442 430
562 560 550
564 336 324
566 564 348
568 566 562
570 537 532
572 570 543
574 572 526
576 574 88
578 538 531
580 578 543
582 580 526
584 582 98
586 538 532
588 586 543
590 588 526
592 590 56
594 546 544
596 594 526
598 596 56
600 599 530
602 600 593
604 602 585
606 604 577
608 606 563
610 608 569
612 611 569
614 613 559
616 614 555
618 617 555
620 599 536
622 620 593
624 622 585
626 624 577
628 626 563
630 628 569
632 631 569
634 633 559
636 635 559
638 637 555
640 599 542
642 640 593
644 642 585
646 644 577
648 646 563
650 649 563
652 651 569
654 652 559
656 654 555
658 296 95
660 658 97
662 147 106
664 146 106
666 663 106
668 660 74
670 664 661
672 671 669
674 149 106
676 148 106
678 675 106
680 660 76
682 676 661
684 683 681
686 151 106
688 150 106
690 687 106
692 660 78
694 688 661
696 695 693
698 153 106
700 152 106
702 699 106
704 660 80
706 700 661
708 707 705
710 155 106
712 154 106
714 711 106
716 660 82
718 712 661
720 719 717
722 157 106
724 156 106
726 723 106
728 660 84
730 724 661
732 731 729
734 159 106
736 158 106
738 735 106
740 358 48
742 736 359
744 743 741
746 161 106
748 160 106
750 747 106
752 358 50
754 748 359
756 755 753
758 163 106
760 162 106
762 759 106
764 358 52
766 760 359
768 767 765
770 4 2
772 770 7
774 772 312
776 251 106
778 250 106
780 777 106
782 165 106
784 164 106
786 783 106
788 778 774
790 784 775
792 791 789
794 253 106
796 252 106
798 795 106
800 167 106
802 166 106
804 801 106
806 796 774
808 802 775
810 809 807
812 255 106
814 254 106
816 813 106
818 169 106
820 168 106
822 819 106
824 814 774
826 820 775
828 827 825
830 314 6
832 830 312
834 832 12
836 833 12
838 837 835
840 310 55
842 5 3
844 842 7
846 844 840
848 846 8
850 847 8
852 851 849
854 842 6
856 854 312
858 257 106
860 256 106
862 859 106
864 175 106
866 174 106
868 865 106
870 860 856
872 866 857
874 873 871
876 259 106
878 258 106
880 877 106
882 177 106
884 176 106
886 883 106
888 878 856
890 884 857
892 891 889
894 261 106
896 260 106
898 895 106
900 179 106
902 178 106
904 901 106
906 896 856
908 902 857
910 909 907
912 172 106
914 913 8
916 181 106
918 180 106
920 917 106
922 918 915
924 183 106
926 182 106
928 925 106
930 928 919
932 221 106
934 220 106
936 933 106
938 227 106
940 226 106
942 939 106
944 229 106
946 228 106
948 945 106
950 230 106
952 947 942
954 952 951
956 955 936
958 948 941
960 958 951
962 961 935
964 963 957
966 664 325
968 667 322
970 969 967
972 676 337
974 679 334
976 975 973
978 688 349
980 691 346
982 981 979
984 976 970
986 984 982
988 986 964
990 185 106
992 184 106
994 991 106
996 995 700
998 992 703
1000 999 997
1002 187 106
1004 186 106
1006 1003 106
1008 1007 712
1010 1004 715
1012 1011 1009
1014 189 106
1016 188 106
1018 1015 106
1020 1019 724
1022 1016 727
1024 1023 1021
1026 1012 1000
1028 1026 1024
1030 1028 988
1032 171 106
1034 1033 106
1036 1034 1030
1038 918 47
1040 1039 47
1042 1037 918
1044 1041 1036
1046 1045 1043
1048 928 920
1050 1048 86
1052 1051 918
1054 1047 930
1056 1052 931
1058 1057 1055
1060 922 846
1062 1059 847
1064 1063 1061
1066 926 915
1068 1067 915
1070 926 47
1072 1071 47
1074 1037 926
1076 1073 1036
1078 1077 1075
1080 1051 926
1082 1079 930
1084 1080 931
1086 1085 1083
1088 1069 846
1090 1087 847
1092 1091 1089
1094 322 318
1096 992 319
1098 1097 1095
1100 334 318
1102 1004 319
1104 1103 1101
1106 346 318
1108 1016 319
1110 1109 1107
1112 191 106
1114 190 106
1116 1113 106
1118 358 100
1120 1114 359
1122 1121 1119
1124 193 106
1126 192 106
1128 1125 106
1130 358 102
1132 1126 359
1134 1133 1131
1136 195 106
1138 194 106
1140 1137 106
1142 358 104
1144 1138 359
1146 1145 1143
1148 197 106
1150 196 106
1152 1149 106
1154 199 106
1156 198 106
1158 1155 106
1160 201 106
1162 200 106
1164 1161 106
1166 203 106
1168 202 106
1170 1167 106
1172 1157 1151
1174 1172 1163
1176 1174 1169
1178 92 90
1180 1178 95
1182 1180 97
1184 1182 1176
1186 1157 1152
1188 1186 1163
1190 1188 1169
1192 580 98
1194 1192 1190
1196 1194 526
1198 1158 1151
1200 1198 1163
1202 1200 1169
1204 594 56
1206 1204 1202
1208 1206 526
1210 1158 1152
1212 1210 1163
1214 1212 1169
1216 1214 358
1218 1216 67
1220 1216 66
1222 1172 1164
1224 1222 1169
1226 1224 1050
1228 778 491
1230 781 488
1232 1231 1229
1234 796 503
1236 799 500
1238 1237 1235
1240 814 515
1242 817 512
1244 1243 1241
1246 1238 1232
1248 1246 1244
1250 233 106
1252 232 106
1254 1251 106
1256 1255 784
1258 1252 787
1260 1259 1257
1262 235 106
1264 234 106
1266 1263 106
1268 1267 802
1270 1264 805
1272 1271 1269
1274 237 106
1276 236 106
1278 1275 106
1280 1279 820
1282 1276 823
1284 1283 1281
1286 1272 1260
1288 1286 1284
1290 1288 1248
1292 1117 860
1294 1114 863
1296 1295 1293
1298 1129 878
1300 1126 881
1302 1301 1299
1304 1141 896
1306 1138 899
1308 1307 1305
1310 1302 1296
1312 1310 1308
1314 1312 1290
1316 866 365
1318 869 362
1320 1319 1317
1322 884 377
1324 887 374
1326 1325 1323
1328 902 389
1330 905 386
1332 1331 1329
1334 1326 1320
1336 1334 1332
1338 1336 1314
1340 215 106
1342 214 106
1344 1341 106
1346 239 106
1348 238 106
1350 1347 106
1352 1348 1345
1354 1351 1342
1356 1355 1353
1358 217 106
1360 216 106
1362 1359 106
1364 241 106
1366 240 106
1368 1365 106
1370 1366 1363
1372 1369 1360
1374 1373 1371
1376 219 106
1378 218 106
1380 1377 106
1382 243 106
1384 242 106
1386 1383 106
1388 1384 1381
1390 1387 1378
1392 1391 1389
1394 1374 1356
1396 1394 1392
1398 1396 1338
1400 245 106
1402 244 106
1404 1401 106
1406 1402 739
1408 1405 736
1410 1409 1407
1412 247 106
1414 246 106
1416 1413 106
1418 1414 751
1420 1417 748
1422 1421 1419
1424 249 106
1426 248 106
1428 1425 106
1430 1426 763
1432 1429 760
1434 1433 1431
1436 1422 1410
1438 1436 1434
1440 1438 1398
1442 455 322
1444 452 325
1446 1445 1443
1448 467 334
1450 464 337
1452 1451 1449
1454 479 346
1456 476 349
1458 1457 1455
1460 1452 1446
1462 1460 1458
1464 1462 1440
1466 209 106
1468 208 106
1470 1467 106
1472 1471 992
1474 1468 995
1476 1475 1473
1478 211 106
1480 210 106
1482 1479 106
1484 1483 1004
1486 1480 1007
1488 1487 1485
1490 213 106
1492 212 106
1494 1491 106
1496 1495 1016
1498 1492 1019
1500 1499 1497
1502 1488 1476
1504 1502 1500
1506 1504 1464
1508 205 106
1510 204 106
1512 1509 106
1514 1510 401
1516 1513 398
1518 1517 1515
1520 207 106
1522 206 106
1524 1521 106
1526 1522 413
1528 1525 410
1530 1529 1527
1532 1530 1518
1534 1532 1506
1536 1534 935
1538 1537 1226
1540 1538 526
1542 1226 58
1544 1542 526
1546 1226 59
1548 1546 526
1550 1186 1164
1552 1550 1169
1554 1552 1050
1556 1534 936
1558 1557 1554
1560 1558 526
1562 1554 58
1564 1562 526
1566 1554 59
1568 1566 526
1570 1198 1164
1572 1570 1169
1574 522 94
1576 1574 97
1578 1576 1572
1580 1210 1164
1582 1580 1169
1584 296 94
1586 1584 97
1588 1586 1582
1590 1174 1170
1592 1178 94
1594 1592 97
1596 1594 1590
1598 1188 1170
1600 308 96
1602 1600 1598
1604 1603 1150
1606 1605 1603
1608 1607 1597
1610 1609 1597
1612 1611 1589
1614 1613 1589
1616 1615 1579
1618 1617 1579
1620 1619 1569
1622 1621 1569
1624 1623 1565
1626 1624 1561
1628 1626 1549
1630 1629 1549
1632 1631 1545
1634 1632 1541
1636 1634 1221
1638 1637 1221
1640 1639 1219
1642 1640 1209
1644 1643 1209
1646 1645 1197
1648 1646 1185
1650 1649 1185
1652 1603 1156
1654 1653 1603
1656 1655 1597
1658 1657 1597
1660 1659 1589
1662 1661 1589
1664 1663 1579
1666 1665 1579
1668 1667 1569
1670 1668 1565
1672 1670 1561
1674 1673 1561
1676 1675 1549
1678 1677 1549
1680 1679 1545
1682 1681 1545
1684 1683 1541
1686 1685 1541
1688 1687 1221
1690 1688 1219
1692 1690 1209
1694 1693 1209
1696 1695 1197
1698 1697 1197
1700 1699 1185
1702 1603 1162
1704 1702 1597
1706 1704 1589
1708 1706 1579
1710 1708 1569
1712 1710 1565
1714 1712 1561
1716 1714 1549
1718 1717 1549
1720 1719 1545
1722 1721 1545
1724 1723 1541
1726 1724 1221
1728 1727 1221
1730 1729 1219
1732 1731 1219
1734 1733 1209
1736 1734 1197
1738 1736 1185
1740 1603 1168
1742 1740 1597
1744 1742 1589
1746 1744 1579
1748 1746 1569
1750 1749 1569
1752 1751 1565
1754 1753 1565
1756 1755 1561
1758 1757 1561
1760 1759 1549
1762 1760 1545
1764 1762 1541
1766 1765 1541
1768 1767 1221
1770 1768 1219
1772 1770 1209
1774 1772 1197
1776 1774 1185
1778 660 24
1780 1510 661
1782 1781 1779
1784 660 26
1786 1522 661
1788 1787 1785
1790 358 60
1792 1468 359
1794 1793 1791
1796 358 62
1798 1480 359
1800 1799 1797
1802 358 64
1804 1492 359
1806 1805 1803
1808 358 40
1810 1342 359
1812 1811 1809
1814 358 42
1816 1360 359
1818 1817 1815
1820 358 44
1822 1378 359
1824 1823 1821
1826 846 10
1828 847 10
1830 1829 1827
1832 1215 273
1834 270 267
1836 271 264
1838 1837 1835
1840 1839 1215
1842 770 6
1844 1842 312
1846 1844 8
1848 1845 940
1850 1849 1847
1852 1844 10
1854 1845 946
1856 1855 1853
1858 1844 12
1860 1845 950
1862 1861 1859
1864 358 18
1866 1252 359
1868 1867 1865
1870 358 20
1872 1264 359
1874 1873 1871
1876 358 22
1878 1276 359
1880 1879 1877
1882 420 6
1884 1882 312
1886 1884 8
1888 1885 1348
1890 1889 1887
1892 1884 10
1894 1885 1366
1896 1895 1893
1898 1884 12
1900 1885 1384
1902 1901 1899
1904 1884 1348
1906 1885 1402
1908 1907 1905
1910 1884 1366
1912 1885 1414
1914 1913 1911
1916 1884 1384
1918 1885 1426
1920 1919 1917
1922 774 8
1924 778 775
1926 1925 1923
1928 774 10
1930 796 775
1932 1931 1929
1934 774 12
1936 814 775
1938 1937 1935
1940 856 8
1942 860 857
1944 1943 1941
1946 856 10
1948 878 857
1950 1949 1947
1952 856 12
1954 896 857
1956 1955 1953
i0 controllable_addr_abs<0>
i1 controllable_addr_abs<1>
i2 controllable_addr_abs<2>
i3 controllable_write8_val_abs<0>
i4 controllable_write8_val_abs<1>
i5 controllable_write8_val_abs<2>
i6 i_reqBuf_abs<0>
i7 i_reqBuf_abs<1>
i8 i_reqLBA1_abs<0>
i9 i_reqLBA1_abs<1>
i10 i_reqLBA1_abs<2>
i11 controllable_fillPrdAddr_abs<0>
i12 controllable_fillPrdAddr_abs<1>
i13 i_reqLBA3_abs<0>
i14 i_reqLBA3_abs<1>
i15 i_reqLBA3_abs<2>
i16 i_reqLBA0_abs<0>
i17 i_reqLBA0_abs<1>
i18 i_reqLBA0_abs<2>
i19 i_reqLBA4_abs<0>
i20 i_reqLBA4_abs<1>
i21 i_reqLBA4_abs<2>
i22 controllable_dmaStartClass_conc
i23 i_reqLBA5_abs<0>
i24 i_reqLBA5_abs<1>
i25 i_reqLBA5_abs<2>
i26 controllable_bank_abs
i27 controllable_featXFRClass_conc
i28 i_transSuccess_conc
i29 i_reqSect1_abs<0>
i30 i_reqSect1_abs<1>
i31 i_reqSect1_abs<2>
i32 i_osReqType_conc
i33 i_reqSect0_abs<0>
i34 i_reqSect0_abs<1>
i35 i_reqSect0_abs<2>
i36 controllable_fillPrdNSect_abs<0>
i37 controllable_fillPrdNSect_abs<1>
i38 controllable_fillPrdNSect_abs<2>
i39 controllable_fillPrdNSect_abs<3>
i40 controllable_fillPrdNSect_abs<4>
i41 controllable_fillPrdNSect_abs<5>
i42 controllable_busMasterClass_conc
i43 controllable_featWCClass_conc
i44 controllable_tag_conc<0>
i45 controllable_tag_conc<1>
i46 controllable_tag_conc<2>
i47 controllable_tag_conc<3>
i48 controllable_featNWCClass_conc
i49 i_reqLBA2_abs<0>
i50 i_reqLBA2_abs<1>
i51 i_reqLBA2_abs<2>
l0 n107
l1 state_regSectors0_abs<0>_out
l2 state_regSectors0_abs<1>_out
l3 state_regSectors0_abs<2>_out
l4 state_os_lba3_abs<0>_out
l5 state_os_lba3_abs<1>_out
l6 state_os_lba3_abs<2>_out
l7 state_os_buf_abs<0>_out
l8 state_os_buf_abs<1>_out
l9 state_regFeature0_abs<0>_out
l10 state_regFeature0_abs<1>_out
l11 state_os_sect0_abs<0>_out
l12 state_os_sect0_abs<1>_out
l13 state_os_sect0_abs<2>_out
l14 state_os_lba0_abs<0>_out
l15 state_os_lba0_abs<1>_out
l16 state_os_lba0_abs<2>_out
l17 state_setFeatState_conc<0>_out
l18 state_setFeatState_conc<1>_out
l19 state_setFeatState_conc<2>_out
l20 state_bufSectors_abs<0>_out
l21 state_bufSectors_abs<1>_out
l22 state_bufSectors_abs<2>_out
l23 state_bufSectors_abs<3>_out
l24 state_bufSectors_abs<4>_out
l25 state_bufSectors_abs<5>_out
l26 state_os_lba5_abs<0>_out
l27 state_os_lba5_abs<1>_out
l28 state_os_lba5_abs<2>_out
l29 state_regLBALow1_abs<0>_out
l30 state_regLBALow1_abs<1>_out
l31 state_regLBALow1_abs<2>_out
l32 state_regDev_LBA_abs_out
l33 state_regBMCommand_Start_abs_out
l34 state_regLBAMid1_abs<0>_out
l35 state_regLBAMid1_abs<1>_out
l36 state_regLBAMid1_abs<2>_out
l37 state_stDMACmd_conc<0>_out
l38 state_stDMACmd_conc<1>_out
l39 state_regSectors1_abs<0>_out
l40 state_regSectors1_abs<1>_out
l41 state_regSectors1_abs<2>_out
l42 state_os_lba2_abs<0>_out
l43 state_os_lba2_abs<1>_out
l44 state_os_lba2_abs<2>_out
l45 state_osState_conc<0>_out
l46 state_osState_conc<1>_out
l47 state_osState_conc<2>_out
l48 state_osState_conc<3>_out
l49 state_bufAddr_abs<0>_out
l50 state_bufAddr_abs<1>_out
l51 state_os_sect1_abs<0>_out
l52 state_os_sect1_abs<1>_out
l53 state_os_sect1_abs<2>_out
l54 state_os_lba4_abs<0>_out
l55 state_os_lba4_abs<1>_out
l56 state_os_lba4_abs<2>_out
l57 state_regBMCommand_RW_abs_out
l58 fair_cnt<0>_out
l59 fair_cnt<1>_out
l60 state_regCommand_abs<0>_out
l61 state_regCommand_abs<1>_out
l62 state_regCommand_abs<2>_out
l63 state_os_lba1_abs<0>_out
l64 state_os_lba1_abs<1>_out
l65 state_os_lba1_abs<2>_out
l66 state_regLBAHigh0_abs<0>_out
l67 state_regLBAHigh0_abs<1>_out
l68 state_regLBAHigh0_abs<2>_out
l69 state_regLBAHigh1_abs<0>_out
l70 state_regLBAHigh1_abs<1>_out
l71 state_regLBAHigh1_abs<2>_out
l72 state_regLBALow0_abs<0>_out
l73 state_regLBALow0_abs<1>_out
l74 state_regLBALow0_abs<2>_out
l75 state_regLBAMid0_abs<0>_out
l76 state_regLBAMid0_abs<1>_out
l77 state_regLBAMid0_abs<2>_out
o0 o_err
c
ide_hard_drive_controller_2
This file was written by ABC on Tue Mar 11 20:24:22 2014
For information about AIGER format, refer to http://fmv.jku.at/aiger
-------------------------------
This AIGER file has been created by the following sequence of commands:
> vl2mv driver_c2.v   ---gives--> driver_c2.mv
> abc -c "read_blif_mv driver_c2.mv; write_aiger -s driver_c2n.aig"   ---gives--> driver_c2n.aig
> aigtoaig driver_c2n.aig driver_c2n.aag   ---gives--> driver_c2n.aag (this file)
Content of driver_c2.v:
// IDE hard drive controller specification and operating system interface
// specification for device driver synthesis.
// This file describes a GR(1) game played by a device driver for an IDE hard
// disk against its environment consisting of the hard disk and operating
// system.

`define WIDTH1 2
`define WIDTH2 1

`define CMD_READ_DMA_EXT  1
`define CMD_WRITE_DMA_EXT 2
`define FEAT_WC           1
`define FEAT_NWC          2
`define FEAT_XFR_MODE     3
`define XM_ULTRA_DMA      7

`define RCMD              1
`define REG_FEATURE0      1
`define REG_SECTORS       2
`define REG_LBA_LOW       3
`define REG_LBA_MID       4
`define REG_LBA_HIGH      5
`define REG_DEV           6
`define REG_ERRCMD        7

`define RDMA              0
`define REG_BM_COMMAND    0

//typedef enum {read=0, write=1} i_osReqType_enum;
`define read              0
`define write             1

//typedef enum {write8, write32, fillPrd, reset, os_req, ack_read_succ, ack_read_fail, ack_write_succ, ack_write_fail, class_event} controllable_tag_enum;
`define write8            0
`define write32           1
`define fillPrd           2
`define reset             3
`define os_req            4
`define ack_read_succ     5
`define ack_read_fail     6
`define ack_write_succ    7
`define ack_write_fail    8
`define class_event       9

//typedef enum {wait_bm_ready=0, dma_read=1, bm_read_prd=2, bm_ready=3} state_stDMACmd_enum;
`define wait_bm_ready     0
`define dma_read          1
`define bm_read_prd       2
`define bm_ready          3


//typedef enum {setFeatIdle=0, setFeatWC=1, setFeatNWC=2, setFeatXFR0=3, setFeatXFR1=4} state_setFeatState_enum;
`define setFeatIdle       0
`define setFeatWC         1
`define setFeatNWC        2
`define setFeatXFR0       3
`define setFeatXFR1       4

//typedef enum {os_init=0, os_reset=1, os_write_cache=2, os_idle=3, os_read_pending=4, os_write_pending=5, os_read_ack_succ=6, os_read_ack_fail=7, os_write_ack_succ=8, os_write_ack_fail=9, os_error=10} state_osState_enum;
`define os_init           0
`define os_reset          1
`define os_write_cache    2
`define os_idle           3
`define os_read_pending   4
`define os_write_pending  5
`define os_read_ack_succ  6
`define os_read_ack_fail  7
`define os_write_ack_succ 8
`define os_write_ack_fail 9
`define os_error          10

module ide_hard_drive_controller_2(
        o_err,
        i_clk,
        i_osReqType_conc,
        i_reqLBA0_abs,
        i_reqLBA1_abs,
        i_reqLBA2_abs,
        i_reqLBA3_abs,
        i_reqLBA4_abs,
        i_reqLBA5_abs,
        i_reqSect0_abs,
        i_reqSect1_abs,
        i_reqBuf_abs,
        i_transSuccess_conc,
        controllable_tag_conc,
        controllable_bank_abs,
        controllable_addr_abs,
        controllable_write8_val_abs,
        controllable_fillPrdAddr_abs,
        controllable_fillPrdNSect_abs,
        controllable_featWCClass_conc,
        controllable_featNWCClass_conc,
        controllable_featXFRClass_conc,
        controllable_busMasterClass_conc,
        controllable_dmaStartClass_conc );

input i_clk;
input i_osReqType_conc ;
input [`WIDTH1:0] i_reqLBA0_abs ;
input [`WIDTH1:0] i_reqLBA1_abs ;
input [`WIDTH1:0] i_reqLBA2_abs ;
input [`WIDTH1:0] i_reqLBA3_abs ;
input [`WIDTH1:0] i_reqLBA4_abs ;
input [`WIDTH1:0] i_reqLBA5_abs ;
input [`WIDTH1:0] i_reqSect0_abs ;
input [`WIDTH1:0] i_reqSect1_abs ;
input [`WIDTH2:0] i_reqBuf_abs ;
input i_transSuccess_conc ;
input [3:0] controllable_tag_conc ;
input controllable_bank_abs ;
input [2:0] controllable_addr_abs ;
input [`WIDTH1:0] controllable_write8_val_abs ;
input [`WIDTH2:0] controllable_fillPrdAddr_abs ;
input [5:0] controllable_fillPrdNSect_abs ;
input controllable_featWCClass_conc ;
input controllable_featNWCClass_conc ;
input controllable_featXFRClass_conc ;
input controllable_busMasterClass_conc ;
input controllable_dmaStartClass_conc ;
output o_err;

reg [1:0] state_stDMACmd_conc ;
reg [2:0] state_setFeatState_conc ;
reg [1:0] state_regFeature0_abs ;
reg [`WIDTH1:0] state_regSectors0_abs ;
reg [`WIDTH1:0] state_regSectors1_abs ;
reg [`WIDTH1:0] state_regLBALow0_abs ;
reg [`WIDTH1:0] state_regLBALow1_abs ;
reg [`WIDTH1:0] state_regLBAMid0_abs ;
reg [`WIDTH1:0] state_regLBAMid1_abs ;
reg [`WIDTH1:0] state_regLBAHigh0_abs ;
reg [`WIDTH1:0] state_regLBAHigh1_abs ;
reg state_regDev_LBA_abs ;
reg [`WIDTH1:0] state_regCommand_abs ;
reg state_regBMCommand_Start_abs ;
reg state_regBMCommand_RW_abs ;
reg [`WIDTH2:0] state_bufAddr_abs ;
reg [5:0] state_bufSectors_abs ;

reg [3:0] state_osState_conc ;
reg [`WIDTH1:0] state_os_lba0_abs ;
reg [`WIDTH1:0] state_os_lba1_abs ;
reg [`WIDTH1:0] state_os_lba2_abs ;
reg [`WIDTH1:0] state_os_lba3_abs ;
reg [`WIDTH1:0] state_os_lba4_abs ;
reg [`WIDTH1:0] state_os_lba5_abs ;
reg [`WIDTH1:0] state_os_sect0_abs ;
reg [`WIDTH1:0] state_os_sect1_abs ;
reg [`WIDTH2:0] state_os_buf_abs ;

reg [1:0] fair_cnt;

wire transferMode3;
wire nwc;
wire bm_event;
wire transferCorrect;
wire transferCorrect_0;
wire transferCorrect_1;
wire buechi_satisfied;
wire [1:0] next_state_stDMACmd_conc ;
wire [2:0] next_state_setFeatState_conc ;
wire [1:0] next_state_regFeature0_abs ;
wire [`WIDTH1:0] next_state_regSectors0_abs ;
wire [`WIDTH1:0] next_state_regSectors1_abs ;
wire [`WIDTH1:0] next_state_regLBALow0_abs ;
wire [`WIDTH1:0] next_state_regLBALow1_abs ;
wire [`WIDTH1:0] next_state_regLBAMid0_abs ;
wire [`WIDTH1:0] next_state_regLBAMid1_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh0_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh1_abs ;
wire next_state_regDev_LBA_abs ;
wire [`WIDTH1:0] next_state_regCommand_abs ;
wire next_state_regBMCommand_Start_abs ;
wire next_state_regBMCommand_RW_abs ;
wire [`WIDTH2:0] next_state_bufAddr_abs ;
wire [5:0] next_state_bufSectors_abs ;

wire [3:0] next_state_osState_conc ;
wire [`WIDTH1:0] next_state_os_lba0_abs ;
wire [`WIDTH1:0] next_state_os_lba1_abs ;
wire [`WIDTH1:0] next_state_os_lba2_abs ;
wire [`WIDTH1:0] next_state_os_lba3_abs ;
wire [`WIDTH1:0] next_state_os_lba4_abs ;
wire [`WIDTH1:0] next_state_os_lba5_abs ;
wire [`WIDTH1:0] next_state_os_sect0_abs ;
wire [`WIDTH1:0] next_state_os_sect1_abs ;
wire [`WIDTH2:0] next_state_os_buf_abs ;

// some abbreviations:
assign transferMode3 = (state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1);
assign nwc =           (state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1);
assign bm_event = (state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1);
assign transferCorrect = (state_os_lba0_abs==state_regLBALow0_abs    &&
                          state_os_lba1_abs==state_regLBALow1_abs    &&
                          state_os_lba2_abs==state_regLBAMid0_abs    &&
                          state_os_lba3_abs==state_regLBAMid1_abs    &&
                          state_os_lba4_abs==state_regLBAHigh0_abs   &&
                          state_os_lba5_abs==state_regLBAHigh1_abs   &&
                          state_os_sect0_abs==state_regSectors0_abs  &&
                          state_os_sect1_abs==state_regSectors1_abs  &&
                          state_os_buf_abs==state_bufAddr_abs);
assign transferCorrect_0 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==0);
assign transferCorrect_1 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==1);


// state updates:
  //Device state updates:
assign next_state_regFeature0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_FEATURE0) ? controllable_write8_val_abs  : state_regFeature0_abs;
assign next_state_regSectors0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? controllable_write8_val_abs  : state_regSectors0_abs;
assign next_state_regSectors1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? state_regSectors0_abs : state_regSectors1_abs;
assign next_state_regLBALow0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? controllable_write8_val_abs  : state_regLBALow0_abs;
assign next_state_regLBALow1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? state_regLBALow0_abs  : state_regLBALow1_abs;
assign next_state_regLBAMid0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? controllable_write8_val_abs  : state_regLBAMid0_abs;
assign next_state_regLBAMid1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? state_regLBAMid0_abs  : state_regLBAMid1_abs;
assign next_state_regLBAHigh0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? controllable_write8_val_abs  : state_regLBAHigh0_abs;
assign next_state_regLBAHigh1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? state_regLBAHigh0_abs : state_regLBAHigh1_abs;
assign next_state_regDev_LBA_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_DEV)      ? controllable_write8_val_abs[2:2] : state_regDev_LBA_abs;
assign next_state_regCommand_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_ERRCMD)   ? controllable_write8_val_abs  : state_regCommand_abs;
assign next_state_regBMCommand_Start_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[0:0] : state_regBMCommand_Start_abs;
assign next_state_regBMCommand_RW_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[1:1] : state_regBMCommand_RW_abs;
assign next_state_bufAddr_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdAddr_abs : state_bufAddr_abs;
assign next_state_bufSectors_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdNSect_abs : state_bufSectors_abs;

assign next_state_setFeatState_conc = (controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_WC) ? `setFeatWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_NWC) ? `setFeatNWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE && state_regSectors0_abs==`XM_ULTRA_DMA) ? `setFeatXFR0 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE) ? `setFeatXFR1 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatWC   && controllable_featWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR0 && controllable_featXFRClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1) ? `setFeatIdle : state_setFeatState_conc)))))));

assign next_state_stDMACmd_conc = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ?
               (
                 (state_regBMCommand_Start_abs==0 && controllable_write8_val_abs[0:0]==1) ? `bm_read_prd : state_stDMACmd_conc
               ) :
               (
                 (state_stDMACmd_conc==`bm_read_prd) ?
                 (((state_regBMCommand_RW_abs == 1 && state_regCommand_abs != `CMD_READ_DMA_EXT) || (state_regBMCommand_RW_abs == 0 && state_regCommand_abs != `CMD_WRITE_DMA_EXT) || (state_regSectors0_abs != state_bufSectors_abs[`WIDTH1:0]) || (state_regSectors1_abs != state_bufSectors_abs[5:3]) || state_regDev_LBA_abs != 1) ? state_stDMACmd_conc : ((controllable_dmaStartClass_conc==1) ? `bm_ready : state_stDMACmd_conc)) :
                 ((state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1) ? `wait_bm_ready : state_stDMACmd_conc)
               );

//OS state updates
assign next_state_os_lba0_abs = (controllable_tag_conc==`os_req) ? i_reqLBA0_abs : state_os_lba0_abs;
assign next_state_os_lba1_abs = (controllable_tag_conc==`os_req) ? i_reqLBA1_abs : state_os_lba1_abs;
assign next_state_os_lba2_abs = (controllable_tag_conc==`os_req) ? i_reqLBA2_abs : state_os_lba2_abs;
assign next_state_os_lba3_abs = (controllable_tag_conc==`os_req) ? i_reqLBA3_abs : state_os_lba3_abs;
assign next_state_os_lba4_abs = (controllable_tag_conc==`os_req) ? i_reqLBA4_abs : state_os_lba4_abs;
assign next_state_os_lba5_abs = (controllable_tag_conc==`os_req) ? i_reqLBA5_abs : state_os_lba5_abs;
assign next_state_os_sect0_abs = (controllable_tag_conc==`os_req) ? i_reqSect0_abs : state_os_sect0_abs;
assign next_state_os_sect1_abs = (controllable_tag_conc==`os_req) ? i_reqSect1_abs : state_os_sect1_abs;
assign next_state_os_buf_abs = (controllable_tag_conc==`os_req) ? i_reqBuf_abs : state_os_buf_abs;

assign next_state_osState_conc = (state_osState_conc==`os_init && controllable_tag_conc==`reset) ? `os_reset :
      ((state_osState_conc==`os_reset && nwc && controllable_tag_conc==`class_event) ? `os_write_cache :
      ((state_osState_conc==`os_write_cache && transferMode3 && controllable_tag_conc==`class_event) ? `os_idle :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`read) ? `os_read_pending :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`write) ? `os_write_pending :
      ((state_osState_conc==`os_read_pending && bm_event && !transferCorrect_0 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_read_ack_succ :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_read_ack_fail :
      ((state_osState_conc==`os_write_pending && bm_event && !transferCorrect_1 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_write_ack_succ :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_write_ack_fail :
      ((state_osState_conc==`os_read_ack_succ && controllable_tag_conc==`ack_read_succ) ? `os_idle :
      ((state_osState_conc==`os_read_ack_fail && controllable_tag_conc==`ack_read_fail) ? `os_idle :
      ((state_osState_conc==`os_write_ack_succ && controllable_tag_conc==`ack_write_succ) ? `os_idle :
      ((state_osState_conc==`os_write_ack_fail && controllable_tag_conc==`ack_write_fail) ? `os_idle : state_osState_conc))))))))))))));


// buechi-to-safety construction:                            
assign buechi_satisfied = (state_osState_conc == `os_idle);                          
                            
assign o_err = (fair_cnt >= 2) || controllable_tag_conc >= 10;

initial
 begin
  state_stDMACmd_conc = `wait_bm_ready;
  state_setFeatState_conc = `setFeatIdle;
  state_regFeature0_abs = 0;
  state_regSectors0_abs = 0;
  state_regSectors1_abs = 0;
  state_regLBALow0_abs = 0;
  state_regLBALow1_abs = 0;
  state_regLBAMid0_abs = 0;
  state_regLBAMid1_abs = 0;
  state_regLBAHigh0_abs = 0;
  state_regLBAHigh1_abs = 0;
  state_regDev_LBA_abs = 0;
  state_regCommand_abs = 0;
  state_regBMCommand_Start_abs = 0;
  state_regBMCommand_RW_abs = 0;
  state_bufAddr_abs = 0;
  state_bufSectors_abs = 0;
  state_osState_conc = `os_init;
  state_os_lba0_abs = 0;
  state_os_lba1_abs = 0;
  state_os_lba2_abs = 0;
  state_os_lba3_abs = 0;
  state_os_lba4_abs = 0;
  state_os_lba5_abs = 0;
  state_os_sect0_abs = 0;
  state_os_sect1_abs = 0;
  state_os_buf_abs = 0;
  fair_cnt = 0;
 end

always @(posedge i_clk)
 begin

  if(buechi_satisfied)
   begin
    fair_cnt = 0;
   end
  else
   begin
    fair_cnt = fair_cnt + 1;
   end
 
  //Device state updates:
  state_regFeature0_abs          = next_state_regFeature0_abs ;
  state_regSectors0_abs          = next_state_regSectors0_abs ;
  state_regSectors1_abs          = next_state_regSectors1_abs ;
  state_regLBALow0_abs           = next_state_regLBALow0_abs ;
  state_regLBALow1_abs           = next_state_regLBALow1_abs ;
  state_regLBAMid0_abs           = next_state_regLBAMid0_abs ;
  state_regLBAMid1_abs           = next_state_regLBAMid1_abs ;
  state_regLBAHigh0_abs          = next_state_regLBAHigh0_abs ;
  state_regLBAHigh1_abs          = next_state_regLBAHigh1_abs ;
  state_regDev_LBA_abs           = next_state_regDev_LBA_abs ;
  state_regCommand_abs           = next_state_regCommand_abs ;
  state_regBMCommand_Start_abs   = next_state_regBMCommand_Start_abs ;
  state_regBMCommand_RW_abs      = next_state_regBMCommand_RW_abs ;
  state_bufAddr_abs              = next_state_bufAddr_abs ;
  state_bufSectors_abs           = next_state_bufSectors_abs ;
  state_setFeatState_conc        = next_state_setFeatState_conc ;
  state_stDMACmd_conc            = next_state_stDMACmd_conc ;
  state_os_lba0_abs              = next_state_os_lba0_abs ;
  state_os_lba1_abs              = next_state_os_lba1_abs ;
  state_os_lba2_abs              = next_state_os_lba2_abs ;
  state_os_lba3_abs              = next_state_os_lba3_abs ;
  state_os_lba4_abs              = next_state_os_lba4_abs ;
  state_os_lba5_abs              = next_state_os_lba5_abs ;
  state_os_sect0_abs             = next_state_os_sect0_abs ;
  state_os_sect1_abs             = next_state_os_sect1_abs ;
  state_os_buf_abs               = next_state_os_buf_abs ;
  state_osState_conc             = next_state_osState_conc ;
 end
 
 
endmodule
-------------------------------
#!SYNTCOMP
STATUS : unrealizable
SOLVED_BY : 3/3 [2015-pre-classification]
SOLVED_IN : 0.072049 [2015-pre-classification]
#.
