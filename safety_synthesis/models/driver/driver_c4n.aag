aag 988 52 79 1 857
2
4
6
8
10
12
14
16
18
20
22
24
26
28
30
32
34
36
38
40
42
44
46
48
50
52
54
56
58
60
62
64
66
68
70
72
74
76
78
80
82
84
86
88
90
92
94
96
98
100
102
104
106 1
108 341
110 353
112 365
114 381
116 393
118 405
120 417
122 429
124 447
126 459
128 471
130 483
132 495
134 507
136 519
138 531
140 629
142 648
144 666
146 683
148 695
150 707
152 719
154 731
156 743
158 755
160 767
162 779
164 803
166 821
168 839
170 849
172 863
174 885
176 903
178 921
180 1075
182 1103
184 1109
186 1115
188 1121
190 1133
192 1145
194 1157
196 1661
198 1710
200 1748
202 1786
204 1793
206 1799
208 1805
210 1811
212 1817
214 1823
216 1829
218 1835
220 1841
222 1842
224 1850
226 1860
228 1871
230 1877
232 1883
234 1889
236 1895
238 1901
240 1911
242 1917
244 1923
246 1929
248 1935
250 1941
252 1947
254 1953
256 1959
258 1965
260 1971
262 1977
315
264 227 106
266 226 106
268 265 106
270 225 106
272 224 106
274 271 106
276 223 106
278 222 106
280 277 106
282 279 273
284 282 268
286 285 269
288 95 93
290 288 97
292 291 96
294 292 289
296 94 92
298 297 289
300 289 97
302 288 96
304 303 301
306 92 91
308 306 298
310 308 304
312 311 295
314 312 286
316 93 91
318 316 95
320 318 97
322 320 54
324 4 3
326 324 7
328 326 322
330 109 106
332 108 106
334 331 106
336 328 8
338 332 329
340 339 337
342 111 106
344 110 106
346 343 106
348 328 10
350 344 329
352 351 349
354 113 106
356 112 106
358 355 106
360 328 12
362 356 329
364 363 361
366 316 94
368 366 97
370 115 106
372 114 106
374 371 106
376 368 28
378 372 369
380 379 377
382 117 106
384 116 106
386 383 106
388 368 30
390 384 369
392 391 389
394 119 106
396 118 106
398 395 106
400 368 32
402 396 369
404 403 401
406 121 106
408 120 106
410 407 106
412 368 14
414 408 369
416 415 413
418 123 106
420 122 106
422 419 106
424 368 16
426 420 369
428 427 425
430 5 2
432 430 7
434 432 322
436 125 106
438 124 106
440 437 106
442 434 8
444 438 435
446 445 443
448 127 106
450 126 106
452 449 106
454 434 10
456 450 435
458 457 455
460 129 106
462 128 106
464 461 106
466 368 68
468 462 369
470 469 467
472 131 106
474 130 106
476 473 106
478 368 70
480 474 369
482 481 479
484 133 106
486 132 106
488 485 106
490 368 72
492 486 369
494 493 491
496 135 106
498 134 106
500 497 106
502 368 34
504 498 369
506 505 503
508 137 106
510 136 106
512 509 106
514 368 36
516 510 369
518 517 515
520 139 106
522 138 106
524 521 106
526 368 38
528 522 369
530 529 527
532 93 90
534 532 95
536 534 96
538 141 106
540 140 106
542 539 106
544 143 106
546 142 106
548 545 106
550 145 106
552 144 106
554 551 106
556 547 541
558 556 553
560 558 536
562 451 440
564 562 560
566 452 439
568 566 560
570 452 440
572 570 560
574 346 334
576 574 358
578 576 572
580 547 542
582 580 553
584 582 536
586 584 88
588 548 541
590 588 553
592 590 536
594 592 98
596 548 542
598 596 553
600 598 536
602 600 56
604 556 554
606 604 536
608 606 56
610 609 540
612 610 603
614 612 595
616 614 587
618 616 573
620 618 579
622 621 579
624 623 569
626 624 565
628 627 565
630 609 546
632 630 603
634 632 595
636 634 587
638 636 573
640 638 579
642 641 579
644 643 569
646 645 569
648 647 565
650 609 552
652 650 603
654 652 595
656 654 587
658 656 573
660 659 573
662 661 579
664 662 569
666 664 565
668 306 95
670 668 97
672 147 106
674 146 106
676 673 106
678 670 74
680 674 671
682 681 679
684 149 106
686 148 106
688 685 106
690 670 76
692 686 671
694 693 691
696 151 106
698 150 106
700 697 106
702 670 78
704 698 671
706 705 703
708 153 106
710 152 106
712 709 106
714 670 80
716 710 671
718 717 715
720 155 106
722 154 106
724 721 106
726 670 82
728 722 671
730 729 727
732 157 106
734 156 106
736 733 106
738 670 84
740 734 671
742 741 739
744 159 106
746 158 106
748 745 106
750 368 48
752 746 369
754 753 751
756 161 106
758 160 106
760 757 106
762 368 50
764 758 369
766 765 763
768 163 106
770 162 106
772 769 106
774 368 52
776 770 369
778 777 775
780 4 2
782 780 7
784 782 322
786 253 106
788 252 106
790 787 106
792 165 106
794 164 106
796 793 106
798 788 784
800 794 785
802 801 799
804 255 106
806 254 106
808 805 106
810 167 106
812 166 106
814 811 106
816 806 784
818 812 785
820 819 817
822 257 106
824 256 106
826 823 106
828 169 106
830 168 106
832 829 106
834 824 784
836 830 785
838 837 835
840 324 6
842 840 322
844 842 12
846 843 12
848 847 845
850 320 55
852 5 3
854 852 7
856 854 850
858 856 8
860 857 8
862 861 859
864 852 6
866 864 322
868 259 106
870 258 106
872 869 106
874 175 106
876 174 106
878 875 106
880 870 866
882 876 867
884 883 881
886 261 106
888 260 106
890 887 106
892 177 106
894 176 106
896 893 106
898 888 866
900 894 867
902 901 899
904 263 106
906 262 106
908 905 106
910 179 106
912 178 106
914 911 106
916 906 866
918 912 867
920 919 917
922 172 106
924 923 8
926 181 106
928 180 106
930 927 106
932 928 925
934 183 106
936 182 106
938 935 106
940 938 929
942 221 106
944 220 106
946 943 106
948 229 106
950 228 106
952 949 106
954 231 106
956 230 106
958 955 106
960 232 106
962 957 952
964 962 961
966 965 946
968 958 951
970 968 961
972 971 945
974 973 967
976 674 335
978 677 332
980 979 977
982 686 347
984 689 344
986 985 983
988 698 359
990 701 356
992 991 989
994 986 980
996 994 992
998 996 974
1000 185 106
1002 184 106
1004 1001 106
1006 1005 710
1008 1002 713
1010 1009 1007
1012 187 106
1014 186 106
1016 1013 106
1018 1017 722
1020 1014 725
1022 1021 1019
1024 189 106
1026 188 106
1028 1025 106
1030 1029 734
1032 1026 737
1034 1033 1031
1036 1022 1010
1038 1036 1034
1040 1038 998
1042 171 106
1044 1043 106
1046 1044 1040
1048 928 47
1050 1049 47
1052 1047 928
1054 1051 1046
1056 1055 1053
1058 938 930
1060 1058 86
1062 1061 928
1064 1057 940
1066 1062 941
1068 1067 1065
1070 932 856
1072 1069 857
1074 1073 1071
1076 936 925
1078 1077 925
1080 936 47
1082 1081 47
1084 1047 936
1086 1083 1046
1088 1087 1085
1090 1061 936
1092 1089 940
1094 1090 941
1096 1095 1093
1098 1079 856
1100 1097 857
1102 1101 1099
1104 332 328
1106 1002 329
1108 1107 1105
1110 344 328
1112 1014 329
1114 1113 1111
1116 356 328
1118 1026 329
1120 1119 1117
1122 191 106
1124 190 106
1126 1123 106
1128 368 100
1130 1124 369
1132 1131 1129
1134 193 106
1136 192 106
1138 1135 106
1140 368 102
1142 1136 369
1144 1143 1141
1146 195 106
1148 194 106
1150 1147 106
1152 368 104
1154 1148 369
1156 1155 1153
1158 197 106
1160 196 106
1162 1159 106
1164 199 106
1166 198 106
1168 1165 106
1170 201 106
1172 200 106
1174 1171 106
1176 203 106
1178 202 106
1180 1177 106
1182 1167 1161
1184 1182 1173
1186 1184 1179
1188 92 90
1190 1188 95
1192 1190 97
1194 1192 1186
1196 1167 1162
1198 1196 1173
1200 1198 1179
1202 590 98
1204 1202 1200
1206 1204 536
1208 1168 1161
1210 1208 1173
1212 1210 1179
1214 604 56
1216 1214 1212
1218 1216 536
1220 1168 1162
1222 1220 1173
1224 1222 1179
1226 1224 368
1228 1226 67
1230 1226 66
1232 1182 1174
1234 1232 1179
1236 1234 1060
1238 788 501
1240 791 498
1242 1241 1239
1244 806 513
1246 809 510
1248 1247 1245
1250 824 525
1252 827 522
1254 1253 1251
1256 1248 1242
1258 1256 1254
1260 235 106
1262 234 106
1264 1261 106
1266 1265 794
1268 1262 797
1270 1269 1267
1272 237 106
1274 236 106
1276 1273 106
1278 1277 812
1280 1274 815
1282 1281 1279
1284 239 106
1286 238 106
1288 1285 106
1290 1289 830
1292 1286 833
1294 1293 1291
1296 1282 1270
1298 1296 1294
1300 1298 1258
1302 1127 870
1304 1124 873
1306 1305 1303
1308 1139 888
1310 1136 891
1312 1311 1309
1314 1151 906
1316 1148 909
1318 1317 1315
1320 1312 1306
1322 1320 1318
1324 1322 1300
1326 876 375
1328 879 372
1330 1329 1327
1332 894 387
1334 897 384
1336 1335 1333
1338 912 399
1340 915 396
1342 1341 1339
1344 1336 1330
1346 1344 1342
1348 1346 1324
1350 215 106
1352 214 106
1354 1351 106
1356 241 106
1358 240 106
1360 1357 106
1362 1358 1355
1364 1361 1352
1366 1365 1363
1368 217 106
1370 216 106
1372 1369 106
1374 243 106
1376 242 106
1378 1375 106
1380 1376 1373
1382 1379 1370
1384 1383 1381
1386 219 106
1388 218 106
1390 1387 106
1392 245 106
1394 244 106
1396 1393 106
1398 1394 1391
1400 1397 1388
1402 1401 1399
1404 1384 1366
1406 1404 1402
1408 1406 1348
1410 247 106
1412 246 106
1414 1411 106
1416 1412 749
1418 1415 746
1420 1419 1417
1422 249 106
1424 248 106
1426 1423 106
1428 1424 761
1430 1427 758
1432 1431 1429
1434 251 106
1436 250 106
1438 1435 106
1440 1436 773
1442 1439 770
1444 1443 1441
1446 1432 1420
1448 1446 1444
1450 1448 1408
1452 465 332
1454 462 335
1456 1455 1453
1458 477 344
1460 474 347
1462 1461 1459
1464 489 356
1466 486 359
1468 1467 1465
1470 1462 1456
1472 1470 1468
1474 1472 1450
1476 209 106
1478 208 106
1480 1477 106
1482 1481 1002
1484 1478 1005
1486 1485 1483
1488 211 106
1490 210 106
1492 1489 106
1494 1493 1014
1496 1490 1017
1498 1497 1495
1500 213 106
1502 212 106
1504 1501 106
1506 1505 1026
1508 1502 1029
1510 1509 1507
1512 1498 1486
1514 1512 1510
1516 1514 1474
1518 205 106
1520 204 106
1522 1519 106
1524 1520 411
1526 1523 408
1528 1527 1525
1530 207 106
1532 206 106
1534 1531 106
1536 1532 423
1538 1535 420
1540 1539 1537
1542 1540 1528
1544 1542 1516
1546 1544 945
1548 1547 1236
1550 1548 536
1552 1236 58
1554 1552 536
1556 1236 59
1558 1556 536
1560 1196 1174
1562 1560 1179
1564 1562 1060
1566 1544 946
1568 1567 1564
1570 1568 536
1572 1564 58
1574 1572 536
1576 1564 59
1578 1576 536
1580 1208 1174
1582 1580 1179
1584 532 94
1586 1584 97
1588 1586 1582
1590 1220 1174
1592 1590 1179
1594 306 94
1596 1594 97
1598 1596 1592
1600 1184 1180
1602 1188 94
1604 1602 97
1606 1604 1600
1608 1198 1180
1610 318 96
1612 1610 1608
1614 1613 1160
1616 1615 1613
1618 1617 1607
1620 1619 1607
1622 1621 1599
1624 1623 1599
1626 1625 1589
1628 1627 1589
1630 1629 1579
1632 1631 1579
1634 1633 1575
1636 1634 1571
1638 1636 1559
1640 1639 1559
1642 1641 1555
1644 1642 1551
1646 1644 1231
1648 1647 1231
1650 1649 1229
1652 1650 1219
1654 1653 1219
1656 1655 1207
1658 1656 1195
1660 1659 1195
1662 1613 1166
1664 1663 1613
1666 1665 1607
1668 1667 1607
1670 1669 1599
1672 1671 1599
1674 1673 1589
1676 1675 1589
1678 1677 1579
1680 1678 1575
1682 1680 1571
1684 1683 1571
1686 1685 1559
1688 1687 1559
1690 1689 1555
1692 1691 1555
1694 1693 1551
1696 1695 1551
1698 1697 1231
1700 1698 1229
1702 1700 1219
1704 1703 1219
1706 1705 1207
1708 1707 1207
1710 1709 1195
1712 1613 1172
1714 1712 1607
1716 1714 1599
1718 1716 1589
1720 1718 1579
1722 1720 1575
1724 1722 1571
1726 1724 1559
1728 1727 1559
1730 1729 1555
1732 1731 1555
1734 1733 1551
1736 1734 1231
1738 1737 1231
1740 1739 1229
1742 1741 1229
1744 1743 1219
1746 1744 1207
1748 1746 1195
1750 1613 1178
1752 1750 1607
1754 1752 1599
1756 1754 1589
1758 1756 1579
1760 1759 1579
1762 1761 1575
1764 1763 1575
1766 1765 1571
1768 1767 1571
1770 1769 1559
1772 1770 1555
1774 1772 1551
1776 1775 1551
1778 1777 1231
1780 1778 1229
1782 1780 1219
1784 1782 1207
1786 1784 1195
1788 670 24
1790 1520 671
1792 1791 1789
1794 670 26
1796 1532 671
1798 1797 1795
1800 368 60
1802 1478 369
1804 1803 1801
1806 368 62
1808 1490 369
1810 1809 1807
1812 368 64
1814 1502 369
1816 1815 1813
1818 368 40
1820 1352 369
1822 1821 1819
1824 368 42
1826 1370 369
1828 1827 1825
1830 368 44
1832 1388 369
1834 1833 1831
1836 856 10
1838 857 10
1840 1839 1837
1842 1225 281
1844 278 275
1846 279 272
1848 1847 1845
1850 1849 1225
1852 278 272
1854 1852 269
1856 1853 266
1858 1857 1855
1860 1859 1225
1862 780 6
1864 1862 322
1866 1864 8
1868 1865 950
1870 1869 1867
1872 1864 10
1874 1865 956
1876 1875 1873
1878 1864 12
1880 1865 960
1882 1881 1879
1884 368 18
1886 1262 369
1888 1887 1885
1890 368 20
1892 1274 369
1894 1893 1891
1896 368 22
1898 1286 369
1900 1899 1897
1902 430 6
1904 1902 322
1906 1904 8
1908 1905 1358
1910 1909 1907
1912 1904 10
1914 1905 1376
1916 1915 1913
1918 1904 12
1920 1905 1394
1922 1921 1919
1924 1904 1358
1926 1905 1412
1928 1927 1925
1930 1904 1376
1932 1905 1424
1934 1933 1931
1936 1904 1394
1938 1905 1436
1940 1939 1937
1942 784 8
1944 788 785
1946 1945 1943
1948 784 10
1950 806 785
1952 1951 1949
1954 784 12
1956 824 785
1958 1957 1955
1960 866 8
1962 870 867
1964 1963 1961
1966 866 10
1968 888 867
1970 1969 1967
1972 866 12
1974 906 867
1976 1975 1973
i0 controllable_addr_abs<0>
i1 controllable_addr_abs<1>
i2 controllable_addr_abs<2>
i3 controllable_write8_val_abs<0>
i4 controllable_write8_val_abs<1>
i5 controllable_write8_val_abs<2>
i6 i_reqBuf_abs<0>
i7 i_reqBuf_abs<1>
i8 i_reqLBA1_abs<0>
i9 i_reqLBA1_abs<1>
i10 i_reqLBA1_abs<2>
i11 controllable_fillPrdAddr_abs<0>
i12 controllable_fillPrdAddr_abs<1>
i13 i_reqLBA3_abs<0>
i14 i_reqLBA3_abs<1>
i15 i_reqLBA3_abs<2>
i16 i_reqLBA0_abs<0>
i17 i_reqLBA0_abs<1>
i18 i_reqLBA0_abs<2>
i19 i_reqLBA4_abs<0>
i20 i_reqLBA4_abs<1>
i21 i_reqLBA4_abs<2>
i22 controllable_dmaStartClass_conc
i23 i_reqLBA5_abs<0>
i24 i_reqLBA5_abs<1>
i25 i_reqLBA5_abs<2>
i26 controllable_bank_abs
i27 controllable_featXFRClass_conc
i28 i_transSuccess_conc
i29 i_reqSect1_abs<0>
i30 i_reqSect1_abs<1>
i31 i_reqSect1_abs<2>
i32 i_osReqType_conc
i33 i_reqSect0_abs<0>
i34 i_reqSect0_abs<1>
i35 i_reqSect0_abs<2>
i36 controllable_fillPrdNSect_abs<0>
i37 controllable_fillPrdNSect_abs<1>
i38 controllable_fillPrdNSect_abs<2>
i39 controllable_fillPrdNSect_abs<3>
i40 controllable_fillPrdNSect_abs<4>
i41 controllable_fillPrdNSect_abs<5>
i42 controllable_busMasterClass_conc
i43 controllable_featWCClass_conc
i44 controllable_tag_conc<0>
i45 controllable_tag_conc<1>
i46 controllable_tag_conc<2>
i47 controllable_tag_conc<3>
i48 controllable_featNWCClass_conc
i49 i_reqLBA2_abs<0>
i50 i_reqLBA2_abs<1>
i51 i_reqLBA2_abs<2>
l0 n107
l1 state_regSectors0_abs<0>_out
l2 state_regSectors0_abs<1>_out
l3 state_regSectors0_abs<2>_out
l4 state_os_lba3_abs<0>_out
l5 state_os_lba3_abs<1>_out
l6 state_os_lba3_abs<2>_out
l7 state_os_buf_abs<0>_out
l8 state_os_buf_abs<1>_out
l9 state_regFeature0_abs<0>_out
l10 state_regFeature0_abs<1>_out
l11 state_os_sect0_abs<0>_out
l12 state_os_sect0_abs<1>_out
l13 state_os_sect0_abs<2>_out
l14 state_os_lba0_abs<0>_out
l15 state_os_lba0_abs<1>_out
l16 state_os_lba0_abs<2>_out
l17 state_setFeatState_conc<0>_out
l18 state_setFeatState_conc<1>_out
l19 state_setFeatState_conc<2>_out
l20 state_bufSectors_abs<0>_out
l21 state_bufSectors_abs<1>_out
l22 state_bufSectors_abs<2>_out
l23 state_bufSectors_abs<3>_out
l24 state_bufSectors_abs<4>_out
l25 state_bufSectors_abs<5>_out
l26 state_os_lba5_abs<0>_out
l27 state_os_lba5_abs<1>_out
l28 state_os_lba5_abs<2>_out
l29 state_regLBALow1_abs<0>_out
l30 state_regLBALow1_abs<1>_out
l31 state_regLBALow1_abs<2>_out
l32 state_regDev_LBA_abs_out
l33 state_regBMCommand_Start_abs_out
l34 state_regLBAMid1_abs<0>_out
l35 state_regLBAMid1_abs<1>_out
l36 state_regLBAMid1_abs<2>_out
l37 state_stDMACmd_conc<0>_out
l38 state_stDMACmd_conc<1>_out
l39 state_regSectors1_abs<0>_out
l40 state_regSectors1_abs<1>_out
l41 state_regSectors1_abs<2>_out
l42 state_os_lba2_abs<0>_out
l43 state_os_lba2_abs<1>_out
l44 state_os_lba2_abs<2>_out
l45 state_osState_conc<0>_out
l46 state_osState_conc<1>_out
l47 state_osState_conc<2>_out
l48 state_osState_conc<3>_out
l49 state_bufAddr_abs<0>_out
l50 state_bufAddr_abs<1>_out
l51 state_os_sect1_abs<0>_out
l52 state_os_sect1_abs<1>_out
l53 state_os_sect1_abs<2>_out
l54 state_os_lba4_abs<0>_out
l55 state_os_lba4_abs<1>_out
l56 state_os_lba4_abs<2>_out
l57 state_regBMCommand_RW_abs_out
l58 fair_cnt<0>_out
l59 fair_cnt<1>_out
l60 fair_cnt<2>_out
l61 state_regCommand_abs<0>_out
l62 state_regCommand_abs<1>_out
l63 state_regCommand_abs<2>_out
l64 state_os_lba1_abs<0>_out
l65 state_os_lba1_abs<1>_out
l66 state_os_lba1_abs<2>_out
l67 state_regLBAHigh0_abs<0>_out
l68 state_regLBAHigh0_abs<1>_out
l69 state_regLBAHigh0_abs<2>_out
l70 state_regLBAHigh1_abs<0>_out
l71 state_regLBAHigh1_abs<1>_out
l72 state_regLBAHigh1_abs<2>_out
l73 state_regLBALow0_abs<0>_out
l74 state_regLBALow0_abs<1>_out
l75 state_regLBALow0_abs<2>_out
l76 state_regLBAMid0_abs<0>_out
l77 state_regLBAMid0_abs<1>_out
l78 state_regLBAMid0_abs<2>_out
o0 o_err
c
ide_hard_drive_controller_2
This file was written by ABC on Tue Mar 11 20:24:20 2014
For information about AIGER format, refer to http://fmv.jku.at/aiger
-------------------------------
This AIGER file has been created by the following sequence of commands:
> vl2mv driver_c4.v   ---gives--> driver_c4.mv
> abc -c "read_blif_mv driver_c4.mv; write_aiger -s driver_c4n.aig"   ---gives--> driver_c4n.aig
> aigtoaig driver_c4n.aig driver_c4n.aag   ---gives--> driver_c4n.aag (this file)
Content of driver_c4.v:
// IDE hard drive controller specification and operating system interface
// specification for device driver synthesis.
// This file describes a GR(1) game played by a device driver for an IDE hard
// disk against its environment consisting of the hard disk and operating
// system.

`define WIDTH1 2
`define WIDTH2 1

`define CMD_READ_DMA_EXT  1
`define CMD_WRITE_DMA_EXT 2
`define FEAT_WC           1
`define FEAT_NWC          2
`define FEAT_XFR_MODE     3
`define XM_ULTRA_DMA      7

`define RCMD              1
`define REG_FEATURE0      1
`define REG_SECTORS       2
`define REG_LBA_LOW       3
`define REG_LBA_MID       4
`define REG_LBA_HIGH      5
`define REG_DEV           6
`define REG_ERRCMD        7

`define RDMA              0
`define REG_BM_COMMAND    0

//typedef enum {read=0, write=1} i_osReqType_enum;
`define read              0
`define write             1

//typedef enum {write8, write32, fillPrd, reset, os_req, ack_read_succ, ack_read_fail, ack_write_succ, ack_write_fail, class_event} controllable_tag_enum;
`define write8            0
`define write32           1
`define fillPrd           2
`define reset             3
`define os_req            4
`define ack_read_succ     5
`define ack_read_fail     6
`define ack_write_succ    7
`define ack_write_fail    8
`define class_event       9

//typedef enum {wait_bm_ready=0, dma_read=1, bm_read_prd=2, bm_ready=3} state_stDMACmd_enum;
`define wait_bm_ready     0
`define dma_read          1
`define bm_read_prd       2
`define bm_ready          3


//typedef enum {setFeatIdle=0, setFeatWC=1, setFeatNWC=2, setFeatXFR0=3, setFeatXFR1=4} state_setFeatState_enum;
`define setFeatIdle       0
`define setFeatWC         1
`define setFeatNWC        2
`define setFeatXFR0       3
`define setFeatXFR1       4

//typedef enum {os_init=0, os_reset=1, os_write_cache=2, os_idle=3, os_read_pending=4, os_write_pending=5, os_read_ack_succ=6, os_read_ack_fail=7, os_write_ack_succ=8, os_write_ack_fail=9, os_error=10} state_osState_enum;
`define os_init           0
`define os_reset          1
`define os_write_cache    2
`define os_idle           3
`define os_read_pending   4
`define os_write_pending  5
`define os_read_ack_succ  6
`define os_read_ack_fail  7
`define os_write_ack_succ 8
`define os_write_ack_fail 9
`define os_error          10

module ide_hard_drive_controller_2(
        o_err,
        i_clk,
        i_osReqType_conc,
        i_reqLBA0_abs,
        i_reqLBA1_abs,
        i_reqLBA2_abs,
        i_reqLBA3_abs,
        i_reqLBA4_abs,
        i_reqLBA5_abs,
        i_reqSect0_abs,
        i_reqSect1_abs,
        i_reqBuf_abs,
        i_transSuccess_conc,
        controllable_tag_conc,
        controllable_bank_abs,
        controllable_addr_abs,
        controllable_write8_val_abs,
        controllable_fillPrdAddr_abs,
        controllable_fillPrdNSect_abs,
        controllable_featWCClass_conc,
        controllable_featNWCClass_conc,
        controllable_featXFRClass_conc,
        controllable_busMasterClass_conc,
        controllable_dmaStartClass_conc );

input i_clk;
input i_osReqType_conc ;
input [`WIDTH1:0] i_reqLBA0_abs ;
input [`WIDTH1:0] i_reqLBA1_abs ;
input [`WIDTH1:0] i_reqLBA2_abs ;
input [`WIDTH1:0] i_reqLBA3_abs ;
input [`WIDTH1:0] i_reqLBA4_abs ;
input [`WIDTH1:0] i_reqLBA5_abs ;
input [`WIDTH1:0] i_reqSect0_abs ;
input [`WIDTH1:0] i_reqSect1_abs ;
input [`WIDTH2:0] i_reqBuf_abs ;
input i_transSuccess_conc ;
input [3:0] controllable_tag_conc ;
input controllable_bank_abs ;
input [2:0] controllable_addr_abs ;
input [`WIDTH1:0] controllable_write8_val_abs ;
input [`WIDTH2:0] controllable_fillPrdAddr_abs ;
input [5:0] controllable_fillPrdNSect_abs ;
input controllable_featWCClass_conc ;
input controllable_featNWCClass_conc ;
input controllable_featXFRClass_conc ;
input controllable_busMasterClass_conc ;
input controllable_dmaStartClass_conc ;
output o_err;

reg [1:0] state_stDMACmd_conc ;
reg [2:0] state_setFeatState_conc ;
reg [1:0] state_regFeature0_abs ;
reg [`WIDTH1:0] state_regSectors0_abs ;
reg [`WIDTH1:0] state_regSectors1_abs ;
reg [`WIDTH1:0] state_regLBALow0_abs ;
reg [`WIDTH1:0] state_regLBALow1_abs ;
reg [`WIDTH1:0] state_regLBAMid0_abs ;
reg [`WIDTH1:0] state_regLBAMid1_abs ;
reg [`WIDTH1:0] state_regLBAHigh0_abs ;
reg [`WIDTH1:0] state_regLBAHigh1_abs ;
reg state_regDev_LBA_abs ;
reg [`WIDTH1:0] state_regCommand_abs ;
reg state_regBMCommand_Start_abs ;
reg state_regBMCommand_RW_abs ;
reg [`WIDTH2:0] state_bufAddr_abs ;
reg [5:0] state_bufSectors_abs ;

reg [3:0] state_osState_conc ;
reg [`WIDTH1:0] state_os_lba0_abs ;
reg [`WIDTH1:0] state_os_lba1_abs ;
reg [`WIDTH1:0] state_os_lba2_abs ;
reg [`WIDTH1:0] state_os_lba3_abs ;
reg [`WIDTH1:0] state_os_lba4_abs ;
reg [`WIDTH1:0] state_os_lba5_abs ;
reg [`WIDTH1:0] state_os_sect0_abs ;
reg [`WIDTH1:0] state_os_sect1_abs ;
reg [`WIDTH2:0] state_os_buf_abs ;

reg [2:0] fair_cnt;

wire transferMode3;
wire nwc;
wire bm_event;
wire transferCorrect;
wire transferCorrect_0;
wire transferCorrect_1;
wire buechi_satisfied;
wire [1:0] next_state_stDMACmd_conc ;
wire [2:0] next_state_setFeatState_conc ;
wire [1:0] next_state_regFeature0_abs ;
wire [`WIDTH1:0] next_state_regSectors0_abs ;
wire [`WIDTH1:0] next_state_regSectors1_abs ;
wire [`WIDTH1:0] next_state_regLBALow0_abs ;
wire [`WIDTH1:0] next_state_regLBALow1_abs ;
wire [`WIDTH1:0] next_state_regLBAMid0_abs ;
wire [`WIDTH1:0] next_state_regLBAMid1_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh0_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh1_abs ;
wire next_state_regDev_LBA_abs ;
wire [`WIDTH1:0] next_state_regCommand_abs ;
wire next_state_regBMCommand_Start_abs ;
wire next_state_regBMCommand_RW_abs ;
wire [`WIDTH2:0] next_state_bufAddr_abs ;
wire [5:0] next_state_bufSectors_abs ;

wire [3:0] next_state_osState_conc ;
wire [`WIDTH1:0] next_state_os_lba0_abs ;
wire [`WIDTH1:0] next_state_os_lba1_abs ;
wire [`WIDTH1:0] next_state_os_lba2_abs ;
wire [`WIDTH1:0] next_state_os_lba3_abs ;
wire [`WIDTH1:0] next_state_os_lba4_abs ;
wire [`WIDTH1:0] next_state_os_lba5_abs ;
wire [`WIDTH1:0] next_state_os_sect0_abs ;
wire [`WIDTH1:0] next_state_os_sect1_abs ;
wire [`WIDTH2:0] next_state_os_buf_abs ;

// some abbreviations:
assign transferMode3 = (state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1);
assign nwc =           (state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1);
assign bm_event = (state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1);
assign transferCorrect = (state_os_lba0_abs==state_regLBALow0_abs    &&
                          state_os_lba1_abs==state_regLBALow1_abs    &&
                          state_os_lba2_abs==state_regLBAMid0_abs    &&
                          state_os_lba3_abs==state_regLBAMid1_abs    &&
                          state_os_lba4_abs==state_regLBAHigh0_abs   &&
                          state_os_lba5_abs==state_regLBAHigh1_abs   &&
                          state_os_sect0_abs==state_regSectors0_abs  &&
                          state_os_sect1_abs==state_regSectors1_abs  &&
                          state_os_buf_abs==state_bufAddr_abs);
assign transferCorrect_0 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==0);
assign transferCorrect_1 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==1);


// state updates:
  //Device state updates:
assign next_state_regFeature0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_FEATURE0) ? controllable_write8_val_abs  : state_regFeature0_abs;
assign next_state_regSectors0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? controllable_write8_val_abs  : state_regSectors0_abs;
assign next_state_regSectors1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? state_regSectors0_abs : state_regSectors1_abs;
assign next_state_regLBALow0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? controllable_write8_val_abs  : state_regLBALow0_abs;
assign next_state_regLBALow1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? state_regLBALow0_abs  : state_regLBALow1_abs;
assign next_state_regLBAMid0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? controllable_write8_val_abs  : state_regLBAMid0_abs;
assign next_state_regLBAMid1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? state_regLBAMid0_abs  : state_regLBAMid1_abs;
assign next_state_regLBAHigh0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? controllable_write8_val_abs  : state_regLBAHigh0_abs;
assign next_state_regLBAHigh1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? state_regLBAHigh0_abs : state_regLBAHigh1_abs;
assign next_state_regDev_LBA_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_DEV)      ? controllable_write8_val_abs[2:2] : state_regDev_LBA_abs;
assign next_state_regCommand_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_ERRCMD)   ? controllable_write8_val_abs  : state_regCommand_abs;
assign next_state_regBMCommand_Start_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[0:0] : state_regBMCommand_Start_abs;
assign next_state_regBMCommand_RW_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[1:1] : state_regBMCommand_RW_abs;
assign next_state_bufAddr_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdAddr_abs : state_bufAddr_abs;
assign next_state_bufSectors_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdNSect_abs : state_bufSectors_abs;

assign next_state_setFeatState_conc = (controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_WC) ? `setFeatWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_NWC) ? `setFeatNWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE && state_regSectors0_abs==`XM_ULTRA_DMA) ? `setFeatXFR0 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE) ? `setFeatXFR1 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatWC   && controllable_featWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR0 && controllable_featXFRClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1) ? `setFeatIdle : state_setFeatState_conc)))))));

assign next_state_stDMACmd_conc = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ?
               (
                 (state_regBMCommand_Start_abs==0 && controllable_write8_val_abs[0:0]==1) ? `bm_read_prd : state_stDMACmd_conc
               ) :
               (
                 (state_stDMACmd_conc==`bm_read_prd) ?
                 (((state_regBMCommand_RW_abs == 1 && state_regCommand_abs != `CMD_READ_DMA_EXT) || (state_regBMCommand_RW_abs == 0 && state_regCommand_abs != `CMD_WRITE_DMA_EXT) || (state_regSectors0_abs != state_bufSectors_abs[`WIDTH1:0]) || (state_regSectors1_abs != state_bufSectors_abs[5:3]) || state_regDev_LBA_abs != 1) ? state_stDMACmd_conc : ((controllable_dmaStartClass_conc==1) ? `bm_ready : state_stDMACmd_conc)) :
                 ((state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1) ? `wait_bm_ready : state_stDMACmd_conc)
               );

//OS state updates
assign next_state_os_lba0_abs = (controllable_tag_conc==`os_req) ? i_reqLBA0_abs : state_os_lba0_abs;
assign next_state_os_lba1_abs = (controllable_tag_conc==`os_req) ? i_reqLBA1_abs : state_os_lba1_abs;
assign next_state_os_lba2_abs = (controllable_tag_conc==`os_req) ? i_reqLBA2_abs : state_os_lba2_abs;
assign next_state_os_lba3_abs = (controllable_tag_conc==`os_req) ? i_reqLBA3_abs : state_os_lba3_abs;
assign next_state_os_lba4_abs = (controllable_tag_conc==`os_req) ? i_reqLBA4_abs : state_os_lba4_abs;
assign next_state_os_lba5_abs = (controllable_tag_conc==`os_req) ? i_reqLBA5_abs : state_os_lba5_abs;
assign next_state_os_sect0_abs = (controllable_tag_conc==`os_req) ? i_reqSect0_abs : state_os_sect0_abs;
assign next_state_os_sect1_abs = (controllable_tag_conc==`os_req) ? i_reqSect1_abs : state_os_sect1_abs;
assign next_state_os_buf_abs = (controllable_tag_conc==`os_req) ? i_reqBuf_abs : state_os_buf_abs;

assign next_state_osState_conc = (state_osState_conc==`os_init && controllable_tag_conc==`reset) ? `os_reset :
      ((state_osState_conc==`os_reset && nwc && controllable_tag_conc==`class_event) ? `os_write_cache :
      ((state_osState_conc==`os_write_cache && transferMode3 && controllable_tag_conc==`class_event) ? `os_idle :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`read) ? `os_read_pending :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`write) ? `os_write_pending :
      ((state_osState_conc==`os_read_pending && bm_event && !transferCorrect_0 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_read_ack_succ :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_read_ack_fail :
      ((state_osState_conc==`os_write_pending && bm_event && !transferCorrect_1 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_write_ack_succ :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_write_ack_fail :
      ((state_osState_conc==`os_read_ack_succ && controllable_tag_conc==`ack_read_succ) ? `os_idle :
      ((state_osState_conc==`os_read_ack_fail && controllable_tag_conc==`ack_read_fail) ? `os_idle :
      ((state_osState_conc==`os_write_ack_succ && controllable_tag_conc==`ack_write_succ) ? `os_idle :
      ((state_osState_conc==`os_write_ack_fail && controllable_tag_conc==`ack_write_fail) ? `os_idle : state_osState_conc))))))))))))));


// buechi-to-safety construction:                            
assign buechi_satisfied = (state_osState_conc == `os_idle);                          
                            
assign o_err = (fair_cnt >= 4) || controllable_tag_conc >= 10;

initial
 begin
  state_stDMACmd_conc = `wait_bm_ready;
  state_setFeatState_conc = `setFeatIdle;
  state_regFeature0_abs = 0;
  state_regSectors0_abs = 0;
  state_regSectors1_abs = 0;
  state_regLBALow0_abs = 0;
  state_regLBALow1_abs = 0;
  state_regLBAMid0_abs = 0;
  state_regLBAMid1_abs = 0;
  state_regLBAHigh0_abs = 0;
  state_regLBAHigh1_abs = 0;
  state_regDev_LBA_abs = 0;
  state_regCommand_abs = 0;
  state_regBMCommand_Start_abs = 0;
  state_regBMCommand_RW_abs = 0;
  state_bufAddr_abs = 0;
  state_bufSectors_abs = 0;
  state_osState_conc = `os_init;
  state_os_lba0_abs = 0;
  state_os_lba1_abs = 0;
  state_os_lba2_abs = 0;
  state_os_lba3_abs = 0;
  state_os_lba4_abs = 0;
  state_os_lba5_abs = 0;
  state_os_sect0_abs = 0;
  state_os_sect1_abs = 0;
  state_os_buf_abs = 0;
  fair_cnt = 0;
 end

always @(posedge i_clk)
 begin

  if(buechi_satisfied)
   begin
    fair_cnt = 0;
   end
  else
   begin
    fair_cnt = fair_cnt + 1;
   end
 
  //Device state updates:
  state_regFeature0_abs          = next_state_regFeature0_abs ;
  state_regSectors0_abs          = next_state_regSectors0_abs ;
  state_regSectors1_abs          = next_state_regSectors1_abs ;
  state_regLBALow0_abs           = next_state_regLBALow0_abs ;
  state_regLBALow1_abs           = next_state_regLBALow1_abs ;
  state_regLBAMid0_abs           = next_state_regLBAMid0_abs ;
  state_regLBAMid1_abs           = next_state_regLBAMid1_abs ;
  state_regLBAHigh0_abs          = next_state_regLBAHigh0_abs ;
  state_regLBAHigh1_abs          = next_state_regLBAHigh1_abs ;
  state_regDev_LBA_abs           = next_state_regDev_LBA_abs ;
  state_regCommand_abs           = next_state_regCommand_abs ;
  state_regBMCommand_Start_abs   = next_state_regBMCommand_Start_abs ;
  state_regBMCommand_RW_abs      = next_state_regBMCommand_RW_abs ;
  state_bufAddr_abs              = next_state_bufAddr_abs ;
  state_bufSectors_abs           = next_state_bufSectors_abs ;
  state_setFeatState_conc        = next_state_setFeatState_conc ;
  state_stDMACmd_conc            = next_state_stDMACmd_conc ;
  state_os_lba0_abs              = next_state_os_lba0_abs ;
  state_os_lba1_abs              = next_state_os_lba1_abs ;
  state_os_lba2_abs              = next_state_os_lba2_abs ;
  state_os_lba3_abs              = next_state_os_lba3_abs ;
  state_os_lba4_abs              = next_state_os_lba4_abs ;
  state_os_lba5_abs              = next_state_os_lba5_abs ;
  state_os_sect0_abs             = next_state_os_sect0_abs ;
  state_os_sect1_abs             = next_state_os_sect1_abs ;
  state_os_buf_abs               = next_state_os_buf_abs ;
  state_osState_conc             = next_state_osState_conc ;
 end
 
 
endmodule
-------------------------------
#!SYNTCOMP
SOLVED_BY : 3/3 [2015-pre-classification], 4/4 [SYNTCOMP2015-SyntSeq], 3/3 [SYNTCOMP2015-SyntPar], 7/7 [SYNTCOMP2015-RealSeq], 4/4 [SYNTCOMP2015-RealPar], 7/7 [SYNTCOMP2016-SyntSeq], 4/4 [SYNTCOMP2016-SyntPar], 11/11 [SYNTCOMP2016-RealSeq], 6/6 [SYNTCOMP2016-RealPar]
SOLVED_IN : 0.455609 [2015-pre-classification], 0.018543 [SYNTCOMP2015-RealSeq], 0.034234 [SYNTCOMP2015-RealPar], 0.004 [SYNTCOMP2016-RealSeq], 0.028401 [SYNTCOMP2016-RealPar]
REF_SIZE : 0
STATUS : unrealizable
#.
