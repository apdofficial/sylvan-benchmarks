aag 984 52 78 1 854
2
4
6
8
10
12
14
16
18
20
22
24
26
28
30
32
34
36
38
40
42
44
46
48
50
52
54
56
58
60
62
64
66
68
70
72
74
76
78
80
82
84
86
88
90
92
94
96
98
100
102
104
106 1
108 343
110 355
112 367
114 383
116 395
118 407
120 419
122 431
124 449
126 461
128 473
130 485
132 497
134 509
136 521
138 533
140 631
142 650
144 668
146 685
148 697
150 709
152 721
154 733
156 745
158 757
160 769
162 781
164 805
166 823
168 841
170 851
172 865
174 887
176 905
178 923
180 1077
182 1105
184 1111
186 1117
188 1123
190 1135
192 1147
194 1159
196 1663
198 1712
200 1750
202 1788
204 1795
206 1801
208 1807
210 1813
212 1819
214 1825
216 1831
218 1837
220 1843
222 1844
224 1852
226 1863
228 1869
230 1875
232 1881
234 1887
236 1893
238 1903
240 1909
242 1915
244 1921
246 1927
248 1933
250 1939
252 1945
254 1951
256 1957
258 1963
260 1969
317
262 225 106
264 224 106
266 263 106
268 223 106
270 222 106
272 269 106
274 273 267
276 275 266
278 276 272
280 272 267
282 273 264
284 283 281
286 284 272
288 287 279
290 95 93
292 290 97
294 293 96
296 294 291
298 94 92
300 299 291
302 291 97
304 290 96
306 305 303
308 92 91
310 308 300
312 310 306
314 313 297
316 314 288
318 93 91
320 318 95
322 320 97
324 322 54
326 4 3
328 326 7
330 328 324
332 109 106
334 108 106
336 333 106
338 330 8
340 334 331
342 341 339
344 111 106
346 110 106
348 345 106
350 330 10
352 346 331
354 353 351
356 113 106
358 112 106
360 357 106
362 330 12
364 358 331
366 365 363
368 318 94
370 368 97
372 115 106
374 114 106
376 373 106
378 370 28
380 374 371
382 381 379
384 117 106
386 116 106
388 385 106
390 370 30
392 386 371
394 393 391
396 119 106
398 118 106
400 397 106
402 370 32
404 398 371
406 405 403
408 121 106
410 120 106
412 409 106
414 370 14
416 410 371
418 417 415
420 123 106
422 122 106
424 421 106
426 370 16
428 422 371
430 429 427
432 5 2
434 432 7
436 434 324
438 125 106
440 124 106
442 439 106
444 436 8
446 440 437
448 447 445
450 127 106
452 126 106
454 451 106
456 436 10
458 452 437
460 459 457
462 129 106
464 128 106
466 463 106
468 370 68
470 464 371
472 471 469
474 131 106
476 130 106
478 475 106
480 370 70
482 476 371
484 483 481
486 133 106
488 132 106
490 487 106
492 370 72
494 488 371
496 495 493
498 135 106
500 134 106
502 499 106
504 370 34
506 500 371
508 507 505
510 137 106
512 136 106
514 511 106
516 370 36
518 512 371
520 519 517
522 139 106
524 138 106
526 523 106
528 370 38
530 524 371
532 531 529
534 93 90
536 534 95
538 536 96
540 141 106
542 140 106
544 541 106
546 143 106
548 142 106
550 547 106
552 145 106
554 144 106
556 553 106
558 549 543
560 558 555
562 560 538
564 453 442
566 564 562
568 454 441
570 568 562
572 454 442
574 572 562
576 348 336
578 576 360
580 578 574
582 549 544
584 582 555
586 584 538
588 586 88
590 550 543
592 590 555
594 592 538
596 594 98
598 550 544
600 598 555
602 600 538
604 602 56
606 558 556
608 606 538
610 608 56
612 611 542
614 612 605
616 614 597
618 616 589
620 618 575
622 620 581
624 623 581
626 625 571
628 626 567
630 629 567
632 611 548
634 632 605
636 634 597
638 636 589
640 638 575
642 640 581
644 643 581
646 645 571
648 647 571
650 649 567
652 611 554
654 652 605
656 654 597
658 656 589
660 658 575
662 661 575
664 663 581
666 664 571
668 666 567
670 308 95
672 670 97
674 147 106
676 146 106
678 675 106
680 672 74
682 676 673
684 683 681
686 149 106
688 148 106
690 687 106
692 672 76
694 688 673
696 695 693
698 151 106
700 150 106
702 699 106
704 672 78
706 700 673
708 707 705
710 153 106
712 152 106
714 711 106
716 672 80
718 712 673
720 719 717
722 155 106
724 154 106
726 723 106
728 672 82
730 724 673
732 731 729
734 157 106
736 156 106
738 735 106
740 672 84
742 736 673
744 743 741
746 159 106
748 158 106
750 747 106
752 370 48
754 748 371
756 755 753
758 161 106
760 160 106
762 759 106
764 370 50
766 760 371
768 767 765
770 163 106
772 162 106
774 771 106
776 370 52
778 772 371
780 779 777
782 4 2
784 782 7
786 784 324
788 251 106
790 250 106
792 789 106
794 165 106
796 164 106
798 795 106
800 790 786
802 796 787
804 803 801
806 253 106
808 252 106
810 807 106
812 167 106
814 166 106
816 813 106
818 808 786
820 814 787
822 821 819
824 255 106
826 254 106
828 825 106
830 169 106
832 168 106
834 831 106
836 826 786
838 832 787
840 839 837
842 326 6
844 842 324
846 844 12
848 845 12
850 849 847
852 322 55
854 5 3
856 854 7
858 856 852
860 858 8
862 859 8
864 863 861
866 854 6
868 866 324
870 257 106
872 256 106
874 871 106
876 175 106
878 174 106
880 877 106
882 872 868
884 878 869
886 885 883
888 259 106
890 258 106
892 889 106
894 177 106
896 176 106
898 895 106
900 890 868
902 896 869
904 903 901
906 261 106
908 260 106
910 907 106
912 179 106
914 178 106
916 913 106
918 908 868
920 914 869
922 921 919
924 172 106
926 925 8
928 181 106
930 180 106
932 929 106
934 930 927
936 183 106
938 182 106
940 937 106
942 940 931
944 221 106
946 220 106
948 945 106
950 227 106
952 226 106
954 951 106
956 229 106
958 228 106
960 957 106
962 230 106
964 959 954
966 964 963
968 967 948
970 960 953
972 970 963
974 973 947
976 975 969
978 676 337
980 679 334
982 981 979
984 688 349
986 691 346
988 987 985
990 700 361
992 703 358
994 993 991
996 988 982
998 996 994
1000 998 976
1002 185 106
1004 184 106
1006 1003 106
1008 1007 712
1010 1004 715
1012 1011 1009
1014 187 106
1016 186 106
1018 1015 106
1020 1019 724
1022 1016 727
1024 1023 1021
1026 189 106
1028 188 106
1030 1027 106
1032 1031 736
1034 1028 739
1036 1035 1033
1038 1024 1012
1040 1038 1036
1042 1040 1000
1044 171 106
1046 1045 106
1048 1046 1042
1050 930 47
1052 1051 47
1054 1049 930
1056 1053 1048
1058 1057 1055
1060 940 932
1062 1060 86
1064 1063 930
1066 1059 942
1068 1064 943
1070 1069 1067
1072 934 858
1074 1071 859
1076 1075 1073
1078 938 927
1080 1079 927
1082 938 47
1084 1083 47
1086 1049 938
1088 1085 1048
1090 1089 1087
1092 1063 938
1094 1091 942
1096 1092 943
1098 1097 1095
1100 1081 858
1102 1099 859
1104 1103 1101
1106 334 330
1108 1004 331
1110 1109 1107
1112 346 330
1114 1016 331
1116 1115 1113
1118 358 330
1120 1028 331
1122 1121 1119
1124 191 106
1126 190 106
1128 1125 106
1130 370 100
1132 1126 371
1134 1133 1131
1136 193 106
1138 192 106
1140 1137 106
1142 370 102
1144 1138 371
1146 1145 1143
1148 195 106
1150 194 106
1152 1149 106
1154 370 104
1156 1150 371
1158 1157 1155
1160 197 106
1162 196 106
1164 1161 106
1166 199 106
1168 198 106
1170 1167 106
1172 201 106
1174 200 106
1176 1173 106
1178 203 106
1180 202 106
1182 1179 106
1184 1169 1163
1186 1184 1175
1188 1186 1181
1190 92 90
1192 1190 95
1194 1192 97
1196 1194 1188
1198 1169 1164
1200 1198 1175
1202 1200 1181
1204 592 98
1206 1204 1202
1208 1206 538
1210 1170 1163
1212 1210 1175
1214 1212 1181
1216 606 56
1218 1216 1214
1220 1218 538
1222 1170 1164
1224 1222 1175
1226 1224 1181
1228 1226 370
1230 1228 67
1232 1228 66
1234 1184 1176
1236 1234 1181
1238 1236 1062
1240 790 503
1242 793 500
1244 1243 1241
1246 808 515
1248 811 512
1250 1249 1247
1252 826 527
1254 829 524
1256 1255 1253
1258 1250 1244
1260 1258 1256
1262 233 106
1264 232 106
1266 1263 106
1268 1267 796
1270 1264 799
1272 1271 1269
1274 235 106
1276 234 106
1278 1275 106
1280 1279 814
1282 1276 817
1284 1283 1281
1286 237 106
1288 236 106
1290 1287 106
1292 1291 832
1294 1288 835
1296 1295 1293
1298 1284 1272
1300 1298 1296
1302 1300 1260
1304 1129 872
1306 1126 875
1308 1307 1305
1310 1141 890
1312 1138 893
1314 1313 1311
1316 1153 908
1318 1150 911
1320 1319 1317
1322 1314 1308
1324 1322 1320
1326 1324 1302
1328 878 377
1330 881 374
1332 1331 1329
1334 896 389
1336 899 386
1338 1337 1335
1340 914 401
1342 917 398
1344 1343 1341
1346 1338 1332
1348 1346 1344
1350 1348 1326
1352 215 106
1354 214 106
1356 1353 106
1358 239 106
1360 238 106
1362 1359 106
1364 1360 1357
1366 1363 1354
1368 1367 1365
1370 217 106
1372 216 106
1374 1371 106
1376 241 106
1378 240 106
1380 1377 106
1382 1378 1375
1384 1381 1372
1386 1385 1383
1388 219 106
1390 218 106
1392 1389 106
1394 243 106
1396 242 106
1398 1395 106
1400 1396 1393
1402 1399 1390
1404 1403 1401
1406 1386 1368
1408 1406 1404
1410 1408 1350
1412 245 106
1414 244 106
1416 1413 106
1418 1414 751
1420 1417 748
1422 1421 1419
1424 247 106
1426 246 106
1428 1425 106
1430 1426 763
1432 1429 760
1434 1433 1431
1436 249 106
1438 248 106
1440 1437 106
1442 1438 775
1444 1441 772
1446 1445 1443
1448 1434 1422
1450 1448 1446
1452 1450 1410
1454 467 334
1456 464 337
1458 1457 1455
1460 479 346
1462 476 349
1464 1463 1461
1466 491 358
1468 488 361
1470 1469 1467
1472 1464 1458
1474 1472 1470
1476 1474 1452
1478 209 106
1480 208 106
1482 1479 106
1484 1483 1004
1486 1480 1007
1488 1487 1485
1490 211 106
1492 210 106
1494 1491 106
1496 1495 1016
1498 1492 1019
1500 1499 1497
1502 213 106
1504 212 106
1506 1503 106
1508 1507 1028
1510 1504 1031
1512 1511 1509
1514 1500 1488
1516 1514 1512
1518 1516 1476
1520 205 106
1522 204 106
1524 1521 106
1526 1522 413
1528 1525 410
1530 1529 1527
1532 207 106
1534 206 106
1536 1533 106
1538 1534 425
1540 1537 422
1542 1541 1539
1544 1542 1530
1546 1544 1518
1548 1546 947
1550 1549 1238
1552 1550 538
1554 1238 58
1556 1554 538
1558 1238 59
1560 1558 538
1562 1198 1176
1564 1562 1181
1566 1564 1062
1568 1546 948
1570 1569 1566
1572 1570 538
1574 1566 58
1576 1574 538
1578 1566 59
1580 1578 538
1582 1210 1176
1584 1582 1181
1586 534 94
1588 1586 97
1590 1588 1584
1592 1222 1176
1594 1592 1181
1596 308 94
1598 1596 97
1600 1598 1594
1602 1186 1182
1604 1190 94
1606 1604 97
1608 1606 1602
1610 1200 1182
1612 320 96
1614 1612 1610
1616 1615 1162
1618 1617 1615
1620 1619 1609
1622 1621 1609
1624 1623 1601
1626 1625 1601
1628 1627 1591
1630 1629 1591
1632 1631 1581
1634 1633 1581
1636 1635 1577
1638 1636 1573
1640 1638 1561
1642 1641 1561
1644 1643 1557
1646 1644 1553
1648 1646 1233
1650 1649 1233
1652 1651 1231
1654 1652 1221
1656 1655 1221
1658 1657 1209
1660 1658 1197
1662 1661 1197
1664 1615 1168
1666 1665 1615
1668 1667 1609
1670 1669 1609
1672 1671 1601
1674 1673 1601
1676 1675 1591
1678 1677 1591
1680 1679 1581
1682 1680 1577
1684 1682 1573
1686 1685 1573
1688 1687 1561
1690 1689 1561
1692 1691 1557
1694 1693 1557
1696 1695 1553
1698 1697 1553
1700 1699 1233
1702 1700 1231
1704 1702 1221
1706 1705 1221
1708 1707 1209
1710 1709 1209
1712 1711 1197
1714 1615 1174
1716 1714 1609
1718 1716 1601
1720 1718 1591
1722 1720 1581
1724 1722 1577
1726 1724 1573
1728 1726 1561
1730 1729 1561
1732 1731 1557
1734 1733 1557
1736 1735 1553
1738 1736 1233
1740 1739 1233
1742 1741 1231
1744 1743 1231
1746 1745 1221
1748 1746 1209
1750 1748 1197
1752 1615 1180
1754 1752 1609
1756 1754 1601
1758 1756 1591
1760 1758 1581
1762 1761 1581
1764 1763 1577
1766 1765 1577
1768 1767 1573
1770 1769 1573
1772 1771 1561
1774 1772 1557
1776 1774 1553
1778 1777 1553
1780 1779 1233
1782 1780 1231
1784 1782 1221
1786 1784 1209
1788 1786 1197
1790 672 24
1792 1522 673
1794 1793 1791
1796 672 26
1798 1534 673
1800 1799 1797
1802 370 60
1804 1480 371
1806 1805 1803
1808 370 62
1810 1492 371
1812 1811 1809
1814 370 64
1816 1504 371
1818 1817 1815
1820 370 40
1822 1354 371
1824 1823 1821
1826 370 42
1828 1372 371
1830 1829 1827
1832 370 44
1834 1390 371
1836 1835 1833
1838 858 10
1840 859 10
1842 1841 1839
1844 1227 273
1846 270 267
1848 271 264
1850 1849 1847
1852 1851 1227
1854 782 6
1856 1854 324
1858 1856 8
1860 1857 952
1862 1861 1859
1864 1856 10
1866 1857 958
1868 1867 1865
1870 1856 12
1872 1857 962
1874 1873 1871
1876 370 18
1878 1264 371
1880 1879 1877
1882 370 20
1884 1276 371
1886 1885 1883
1888 370 22
1890 1288 371
1892 1891 1889
1894 432 6
1896 1894 324
1898 1896 8
1900 1897 1360
1902 1901 1899
1904 1896 10
1906 1897 1378
1908 1907 1905
1910 1896 12
1912 1897 1396
1914 1913 1911
1916 1896 1360
1918 1897 1414
1920 1919 1917
1922 1896 1378
1924 1897 1426
1926 1925 1923
1928 1896 1396
1930 1897 1438
1932 1931 1929
1934 786 8
1936 790 787
1938 1937 1935
1940 786 10
1942 808 787
1944 1943 1941
1946 786 12
1948 826 787
1950 1949 1947
1952 868 8
1954 872 869
1956 1955 1953
1958 868 10
1960 890 869
1962 1961 1959
1964 868 12
1966 908 869
1968 1967 1965
i0 controllable_addr_abs<0>
i1 controllable_addr_abs<1>
i2 controllable_addr_abs<2>
i3 controllable_write8_val_abs<0>
i4 controllable_write8_val_abs<1>
i5 controllable_write8_val_abs<2>
i6 i_reqBuf_abs<0>
i7 i_reqBuf_abs<1>
i8 i_reqLBA1_abs<0>
i9 i_reqLBA1_abs<1>
i10 i_reqLBA1_abs<2>
i11 controllable_fillPrdAddr_abs<0>
i12 controllable_fillPrdAddr_abs<1>
i13 i_reqLBA3_abs<0>
i14 i_reqLBA3_abs<1>
i15 i_reqLBA3_abs<2>
i16 i_reqLBA0_abs<0>
i17 i_reqLBA0_abs<1>
i18 i_reqLBA0_abs<2>
i19 i_reqLBA4_abs<0>
i20 i_reqLBA4_abs<1>
i21 i_reqLBA4_abs<2>
i22 controllable_dmaStartClass_conc
i23 i_reqLBA5_abs<0>
i24 i_reqLBA5_abs<1>
i25 i_reqLBA5_abs<2>
i26 controllable_bank_abs
i27 controllable_featXFRClass_conc
i28 i_transSuccess_conc
i29 i_reqSect1_abs<0>
i30 i_reqSect1_abs<1>
i31 i_reqSect1_abs<2>
i32 i_osReqType_conc
i33 i_reqSect0_abs<0>
i34 i_reqSect0_abs<1>
i35 i_reqSect0_abs<2>
i36 controllable_fillPrdNSect_abs<0>
i37 controllable_fillPrdNSect_abs<1>
i38 controllable_fillPrdNSect_abs<2>
i39 controllable_fillPrdNSect_abs<3>
i40 controllable_fillPrdNSect_abs<4>
i41 controllable_fillPrdNSect_abs<5>
i42 controllable_busMasterClass_conc
i43 controllable_featWCClass_conc
i44 controllable_tag_conc<0>
i45 controllable_tag_conc<1>
i46 controllable_tag_conc<2>
i47 controllable_tag_conc<3>
i48 controllable_featNWCClass_conc
i49 i_reqLBA2_abs<0>
i50 i_reqLBA2_abs<1>
i51 i_reqLBA2_abs<2>
l0 n107
l1 state_regSectors0_abs<0>_out
l2 state_regSectors0_abs<1>_out
l3 state_regSectors0_abs<2>_out
l4 state_os_lba3_abs<0>_out
l5 state_os_lba3_abs<1>_out
l6 state_os_lba3_abs<2>_out
l7 state_os_buf_abs<0>_out
l8 state_os_buf_abs<1>_out
l9 state_regFeature0_abs<0>_out
l10 state_regFeature0_abs<1>_out
l11 state_os_sect0_abs<0>_out
l12 state_os_sect0_abs<1>_out
l13 state_os_sect0_abs<2>_out
l14 state_os_lba0_abs<0>_out
l15 state_os_lba0_abs<1>_out
l16 state_os_lba0_abs<2>_out
l17 state_setFeatState_conc<0>_out
l18 state_setFeatState_conc<1>_out
l19 state_setFeatState_conc<2>_out
l20 state_bufSectors_abs<0>_out
l21 state_bufSectors_abs<1>_out
l22 state_bufSectors_abs<2>_out
l23 state_bufSectors_abs<3>_out
l24 state_bufSectors_abs<4>_out
l25 state_bufSectors_abs<5>_out
l26 state_os_lba5_abs<0>_out
l27 state_os_lba5_abs<1>_out
l28 state_os_lba5_abs<2>_out
l29 state_regLBALow1_abs<0>_out
l30 state_regLBALow1_abs<1>_out
l31 state_regLBALow1_abs<2>_out
l32 state_regDev_LBA_abs_out
l33 state_regBMCommand_Start_abs_out
l34 state_regLBAMid1_abs<0>_out
l35 state_regLBAMid1_abs<1>_out
l36 state_regLBAMid1_abs<2>_out
l37 state_stDMACmd_conc<0>_out
l38 state_stDMACmd_conc<1>_out
l39 state_regSectors1_abs<0>_out
l40 state_regSectors1_abs<1>_out
l41 state_regSectors1_abs<2>_out
l42 state_os_lba2_abs<0>_out
l43 state_os_lba2_abs<1>_out
l44 state_os_lba2_abs<2>_out
l45 state_osState_conc<0>_out
l46 state_osState_conc<1>_out
l47 state_osState_conc<2>_out
l48 state_osState_conc<3>_out
l49 state_bufAddr_abs<0>_out
l50 state_bufAddr_abs<1>_out
l51 state_os_sect1_abs<0>_out
l52 state_os_sect1_abs<1>_out
l53 state_os_sect1_abs<2>_out
l54 state_os_lba4_abs<0>_out
l55 state_os_lba4_abs<1>_out
l56 state_os_lba4_abs<2>_out
l57 state_regBMCommand_RW_abs_out
l58 fair_cnt<0>_out
l59 fair_cnt<1>_out
l60 state_regCommand_abs<0>_out
l61 state_regCommand_abs<1>_out
l62 state_regCommand_abs<2>_out
l63 state_os_lba1_abs<0>_out
l64 state_os_lba1_abs<1>_out
l65 state_os_lba1_abs<2>_out
l66 state_regLBAHigh0_abs<0>_out
l67 state_regLBAHigh0_abs<1>_out
l68 state_regLBAHigh0_abs<2>_out
l69 state_regLBAHigh1_abs<0>_out
l70 state_regLBAHigh1_abs<1>_out
l71 state_regLBAHigh1_abs<2>_out
l72 state_regLBALow0_abs<0>_out
l73 state_regLBALow0_abs<1>_out
l74 state_regLBALow0_abs<2>_out
l75 state_regLBAMid0_abs<0>_out
l76 state_regLBAMid0_abs<1>_out
l77 state_regLBAMid0_abs<2>_out
o0 o_err
c
ide_hard_drive_controller_2
This file was written by ABC on Tue Mar 11 20:24:18 2014
For information about AIGER format, refer to http://fmv.jku.at/aiger
-------------------------------
This AIGER file has been created by the following sequence of commands:
> vl2mv driver_c3.v   ---gives--> driver_c3.mv
> abc -c "read_blif_mv driver_c3.mv; write_aiger -s driver_c3n.aig"   ---gives--> driver_c3n.aig
> aigtoaig driver_c3n.aig driver_c3n.aag   ---gives--> driver_c3n.aag (this file)
Content of driver_c3.v:
// IDE hard drive controller specification and operating system interface
// specification for device driver synthesis.
// This file describes a GR(1) game played by a device driver for an IDE hard
// disk against its environment consisting of the hard disk and operating
// system.

`define WIDTH1 2
`define WIDTH2 1

`define CMD_READ_DMA_EXT  1
`define CMD_WRITE_DMA_EXT 2
`define FEAT_WC           1
`define FEAT_NWC          2
`define FEAT_XFR_MODE     3
`define XM_ULTRA_DMA      7

`define RCMD              1
`define REG_FEATURE0      1
`define REG_SECTORS       2
`define REG_LBA_LOW       3
`define REG_LBA_MID       4
`define REG_LBA_HIGH      5
`define REG_DEV           6
`define REG_ERRCMD        7

`define RDMA              0
`define REG_BM_COMMAND    0

//typedef enum {read=0, write=1} i_osReqType_enum;
`define read              0
`define write             1

//typedef enum {write8, write32, fillPrd, reset, os_req, ack_read_succ, ack_read_fail, ack_write_succ, ack_write_fail, class_event} controllable_tag_enum;
`define write8            0
`define write32           1
`define fillPrd           2
`define reset             3
`define os_req            4
`define ack_read_succ     5
`define ack_read_fail     6
`define ack_write_succ    7
`define ack_write_fail    8
`define class_event       9

//typedef enum {wait_bm_ready=0, dma_read=1, bm_read_prd=2, bm_ready=3} state_stDMACmd_enum;
`define wait_bm_ready     0
`define dma_read          1
`define bm_read_prd       2
`define bm_ready          3


//typedef enum {setFeatIdle=0, setFeatWC=1, setFeatNWC=2, setFeatXFR0=3, setFeatXFR1=4} state_setFeatState_enum;
`define setFeatIdle       0
`define setFeatWC         1
`define setFeatNWC        2
`define setFeatXFR0       3
`define setFeatXFR1       4

//typedef enum {os_init=0, os_reset=1, os_write_cache=2, os_idle=3, os_read_pending=4, os_write_pending=5, os_read_ack_succ=6, os_read_ack_fail=7, os_write_ack_succ=8, os_write_ack_fail=9, os_error=10} state_osState_enum;
`define os_init           0
`define os_reset          1
`define os_write_cache    2
`define os_idle           3
`define os_read_pending   4
`define os_write_pending  5
`define os_read_ack_succ  6
`define os_read_ack_fail  7
`define os_write_ack_succ 8
`define os_write_ack_fail 9
`define os_error          10

module ide_hard_drive_controller_2(
        o_err,
        i_clk,
        i_osReqType_conc,
        i_reqLBA0_abs,
        i_reqLBA1_abs,
        i_reqLBA2_abs,
        i_reqLBA3_abs,
        i_reqLBA4_abs,
        i_reqLBA5_abs,
        i_reqSect0_abs,
        i_reqSect1_abs,
        i_reqBuf_abs,
        i_transSuccess_conc,
        controllable_tag_conc,
        controllable_bank_abs,
        controllable_addr_abs,
        controllable_write8_val_abs,
        controllable_fillPrdAddr_abs,
        controllable_fillPrdNSect_abs,
        controllable_featWCClass_conc,
        controllable_featNWCClass_conc,
        controllable_featXFRClass_conc,
        controllable_busMasterClass_conc,
        controllable_dmaStartClass_conc );

input i_clk;
input i_osReqType_conc ;
input [`WIDTH1:0] i_reqLBA0_abs ;
input [`WIDTH1:0] i_reqLBA1_abs ;
input [`WIDTH1:0] i_reqLBA2_abs ;
input [`WIDTH1:0] i_reqLBA3_abs ;
input [`WIDTH1:0] i_reqLBA4_abs ;
input [`WIDTH1:0] i_reqLBA5_abs ;
input [`WIDTH1:0] i_reqSect0_abs ;
input [`WIDTH1:0] i_reqSect1_abs ;
input [`WIDTH2:0] i_reqBuf_abs ;
input i_transSuccess_conc ;
input [3:0] controllable_tag_conc ;
input controllable_bank_abs ;
input [2:0] controllable_addr_abs ;
input [`WIDTH1:0] controllable_write8_val_abs ;
input [`WIDTH2:0] controllable_fillPrdAddr_abs ;
input [5:0] controllable_fillPrdNSect_abs ;
input controllable_featWCClass_conc ;
input controllable_featNWCClass_conc ;
input controllable_featXFRClass_conc ;
input controllable_busMasterClass_conc ;
input controllable_dmaStartClass_conc ;
output o_err;

reg [1:0] state_stDMACmd_conc ;
reg [2:0] state_setFeatState_conc ;
reg [1:0] state_regFeature0_abs ;
reg [`WIDTH1:0] state_regSectors0_abs ;
reg [`WIDTH1:0] state_regSectors1_abs ;
reg [`WIDTH1:0] state_regLBALow0_abs ;
reg [`WIDTH1:0] state_regLBALow1_abs ;
reg [`WIDTH1:0] state_regLBAMid0_abs ;
reg [`WIDTH1:0] state_regLBAMid1_abs ;
reg [`WIDTH1:0] state_regLBAHigh0_abs ;
reg [`WIDTH1:0] state_regLBAHigh1_abs ;
reg state_regDev_LBA_abs ;
reg [`WIDTH1:0] state_regCommand_abs ;
reg state_regBMCommand_Start_abs ;
reg state_regBMCommand_RW_abs ;
reg [`WIDTH2:0] state_bufAddr_abs ;
reg [5:0] state_bufSectors_abs ;

reg [3:0] state_osState_conc ;
reg [`WIDTH1:0] state_os_lba0_abs ;
reg [`WIDTH1:0] state_os_lba1_abs ;
reg [`WIDTH1:0] state_os_lba2_abs ;
reg [`WIDTH1:0] state_os_lba3_abs ;
reg [`WIDTH1:0] state_os_lba4_abs ;
reg [`WIDTH1:0] state_os_lba5_abs ;
reg [`WIDTH1:0] state_os_sect0_abs ;
reg [`WIDTH1:0] state_os_sect1_abs ;
reg [`WIDTH2:0] state_os_buf_abs ;

reg [1:0] fair_cnt;

wire transferMode3;
wire nwc;
wire bm_event;
wire transferCorrect;
wire transferCorrect_0;
wire transferCorrect_1;
wire buechi_satisfied;
wire [1:0] next_state_stDMACmd_conc ;
wire [2:0] next_state_setFeatState_conc ;
wire [1:0] next_state_regFeature0_abs ;
wire [`WIDTH1:0] next_state_regSectors0_abs ;
wire [`WIDTH1:0] next_state_regSectors1_abs ;
wire [`WIDTH1:0] next_state_regLBALow0_abs ;
wire [`WIDTH1:0] next_state_regLBALow1_abs ;
wire [`WIDTH1:0] next_state_regLBAMid0_abs ;
wire [`WIDTH1:0] next_state_regLBAMid1_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh0_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh1_abs ;
wire next_state_regDev_LBA_abs ;
wire [`WIDTH1:0] next_state_regCommand_abs ;
wire next_state_regBMCommand_Start_abs ;
wire next_state_regBMCommand_RW_abs ;
wire [`WIDTH2:0] next_state_bufAddr_abs ;
wire [5:0] next_state_bufSectors_abs ;

wire [3:0] next_state_osState_conc ;
wire [`WIDTH1:0] next_state_os_lba0_abs ;
wire [`WIDTH1:0] next_state_os_lba1_abs ;
wire [`WIDTH1:0] next_state_os_lba2_abs ;
wire [`WIDTH1:0] next_state_os_lba3_abs ;
wire [`WIDTH1:0] next_state_os_lba4_abs ;
wire [`WIDTH1:0] next_state_os_lba5_abs ;
wire [`WIDTH1:0] next_state_os_sect0_abs ;
wire [`WIDTH1:0] next_state_os_sect1_abs ;
wire [`WIDTH2:0] next_state_os_buf_abs ;

// some abbreviations:
assign transferMode3 = (state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1);
assign nwc =           (state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1);
assign bm_event = (state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1);
assign transferCorrect = (state_os_lba0_abs==state_regLBALow0_abs    &&
                          state_os_lba1_abs==state_regLBALow1_abs    &&
                          state_os_lba2_abs==state_regLBAMid0_abs    &&
                          state_os_lba3_abs==state_regLBAMid1_abs    &&
                          state_os_lba4_abs==state_regLBAHigh0_abs   &&
                          state_os_lba5_abs==state_regLBAHigh1_abs   &&
                          state_os_sect0_abs==state_regSectors0_abs  &&
                          state_os_sect1_abs==state_regSectors1_abs  &&
                          state_os_buf_abs==state_bufAddr_abs);
assign transferCorrect_0 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==0);
assign transferCorrect_1 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==1);


// state updates:
  //Device state updates:
assign next_state_regFeature0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_FEATURE0) ? controllable_write8_val_abs  : state_regFeature0_abs;
assign next_state_regSectors0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? controllable_write8_val_abs  : state_regSectors0_abs;
assign next_state_regSectors1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? state_regSectors0_abs : state_regSectors1_abs;
assign next_state_regLBALow0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? controllable_write8_val_abs  : state_regLBALow0_abs;
assign next_state_regLBALow1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? state_regLBALow0_abs  : state_regLBALow1_abs;
assign next_state_regLBAMid0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? controllable_write8_val_abs  : state_regLBAMid0_abs;
assign next_state_regLBAMid1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? state_regLBAMid0_abs  : state_regLBAMid1_abs;
assign next_state_regLBAHigh0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? controllable_write8_val_abs  : state_regLBAHigh0_abs;
assign next_state_regLBAHigh1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? state_regLBAHigh0_abs : state_regLBAHigh1_abs;
assign next_state_regDev_LBA_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_DEV)      ? controllable_write8_val_abs[2:2] : state_regDev_LBA_abs;
assign next_state_regCommand_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_ERRCMD)   ? controllable_write8_val_abs  : state_regCommand_abs;
assign next_state_regBMCommand_Start_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[0:0] : state_regBMCommand_Start_abs;
assign next_state_regBMCommand_RW_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[1:1] : state_regBMCommand_RW_abs;
assign next_state_bufAddr_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdAddr_abs : state_bufAddr_abs;
assign next_state_bufSectors_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdNSect_abs : state_bufSectors_abs;

assign next_state_setFeatState_conc = (controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_WC) ? `setFeatWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_NWC) ? `setFeatNWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE && state_regSectors0_abs==`XM_ULTRA_DMA) ? `setFeatXFR0 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE) ? `setFeatXFR1 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatWC   && controllable_featWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR0 && controllable_featXFRClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1) ? `setFeatIdle : state_setFeatState_conc)))))));

assign next_state_stDMACmd_conc = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ?
               (
                 (state_regBMCommand_Start_abs==0 && controllable_write8_val_abs[0:0]==1) ? `bm_read_prd : state_stDMACmd_conc
               ) :
               (
                 (state_stDMACmd_conc==`bm_read_prd) ?
                 (((state_regBMCommand_RW_abs == 1 && state_regCommand_abs != `CMD_READ_DMA_EXT) || (state_regBMCommand_RW_abs == 0 && state_regCommand_abs != `CMD_WRITE_DMA_EXT) || (state_regSectors0_abs != state_bufSectors_abs[`WIDTH1:0]) || (state_regSectors1_abs != state_bufSectors_abs[5:3]) || state_regDev_LBA_abs != 1) ? state_stDMACmd_conc : ((controllable_dmaStartClass_conc==1) ? `bm_ready : state_stDMACmd_conc)) :
                 ((state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1) ? `wait_bm_ready : state_stDMACmd_conc)
               );

//OS state updates
assign next_state_os_lba0_abs = (controllable_tag_conc==`os_req) ? i_reqLBA0_abs : state_os_lba0_abs;
assign next_state_os_lba1_abs = (controllable_tag_conc==`os_req) ? i_reqLBA1_abs : state_os_lba1_abs;
assign next_state_os_lba2_abs = (controllable_tag_conc==`os_req) ? i_reqLBA2_abs : state_os_lba2_abs;
assign next_state_os_lba3_abs = (controllable_tag_conc==`os_req) ? i_reqLBA3_abs : state_os_lba3_abs;
assign next_state_os_lba4_abs = (controllable_tag_conc==`os_req) ? i_reqLBA4_abs : state_os_lba4_abs;
assign next_state_os_lba5_abs = (controllable_tag_conc==`os_req) ? i_reqLBA5_abs : state_os_lba5_abs;
assign next_state_os_sect0_abs = (controllable_tag_conc==`os_req) ? i_reqSect0_abs : state_os_sect0_abs;
assign next_state_os_sect1_abs = (controllable_tag_conc==`os_req) ? i_reqSect1_abs : state_os_sect1_abs;
assign next_state_os_buf_abs = (controllable_tag_conc==`os_req) ? i_reqBuf_abs : state_os_buf_abs;

assign next_state_osState_conc = (state_osState_conc==`os_init && controllable_tag_conc==`reset) ? `os_reset :
      ((state_osState_conc==`os_reset && nwc && controllable_tag_conc==`class_event) ? `os_write_cache :
      ((state_osState_conc==`os_write_cache && transferMode3 && controllable_tag_conc==`class_event) ? `os_idle :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`read) ? `os_read_pending :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`write) ? `os_write_pending :
      ((state_osState_conc==`os_read_pending && bm_event && !transferCorrect_0 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_read_ack_succ :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_read_ack_fail :
      ((state_osState_conc==`os_write_pending && bm_event && !transferCorrect_1 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_write_ack_succ :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_write_ack_fail :
      ((state_osState_conc==`os_read_ack_succ && controllable_tag_conc==`ack_read_succ) ? `os_idle :
      ((state_osState_conc==`os_read_ack_fail && controllable_tag_conc==`ack_read_fail) ? `os_idle :
      ((state_osState_conc==`os_write_ack_succ && controllable_tag_conc==`ack_write_succ) ? `os_idle :
      ((state_osState_conc==`os_write_ack_fail && controllable_tag_conc==`ack_write_fail) ? `os_idle : state_osState_conc))))))))))))));


// buechi-to-safety construction:                            
assign buechi_satisfied = (state_osState_conc == `os_idle);                          
                            
assign o_err = (fair_cnt >= 3) || controllable_tag_conc >= 10;

initial
 begin
  state_stDMACmd_conc = `wait_bm_ready;
  state_setFeatState_conc = `setFeatIdle;
  state_regFeature0_abs = 0;
  state_regSectors0_abs = 0;
  state_regSectors1_abs = 0;
  state_regLBALow0_abs = 0;
  state_regLBALow1_abs = 0;
  state_regLBAMid0_abs = 0;
  state_regLBAMid1_abs = 0;
  state_regLBAHigh0_abs = 0;
  state_regLBAHigh1_abs = 0;
  state_regDev_LBA_abs = 0;
  state_regCommand_abs = 0;
  state_regBMCommand_Start_abs = 0;
  state_regBMCommand_RW_abs = 0;
  state_bufAddr_abs = 0;
  state_bufSectors_abs = 0;
  state_osState_conc = `os_init;
  state_os_lba0_abs = 0;
  state_os_lba1_abs = 0;
  state_os_lba2_abs = 0;
  state_os_lba3_abs = 0;
  state_os_lba4_abs = 0;
  state_os_lba5_abs = 0;
  state_os_sect0_abs = 0;
  state_os_sect1_abs = 0;
  state_os_buf_abs = 0;
  fair_cnt = 0;
 end

always @(posedge i_clk)
 begin

  if(buechi_satisfied)
   begin
    fair_cnt = 0;
   end
  else
   begin
    fair_cnt = fair_cnt + 1;
   end
 
  //Device state updates:
  state_regFeature0_abs          = next_state_regFeature0_abs ;
  state_regSectors0_abs          = next_state_regSectors0_abs ;
  state_regSectors1_abs          = next_state_regSectors1_abs ;
  state_regLBALow0_abs           = next_state_regLBALow0_abs ;
  state_regLBALow1_abs           = next_state_regLBALow1_abs ;
  state_regLBAMid0_abs           = next_state_regLBAMid0_abs ;
  state_regLBAMid1_abs           = next_state_regLBAMid1_abs ;
  state_regLBAHigh0_abs          = next_state_regLBAHigh0_abs ;
  state_regLBAHigh1_abs          = next_state_regLBAHigh1_abs ;
  state_regDev_LBA_abs           = next_state_regDev_LBA_abs ;
  state_regCommand_abs           = next_state_regCommand_abs ;
  state_regBMCommand_Start_abs   = next_state_regBMCommand_Start_abs ;
  state_regBMCommand_RW_abs      = next_state_regBMCommand_RW_abs ;
  state_bufAddr_abs              = next_state_bufAddr_abs ;
  state_bufSectors_abs           = next_state_bufSectors_abs ;
  state_setFeatState_conc        = next_state_setFeatState_conc ;
  state_stDMACmd_conc            = next_state_stDMACmd_conc ;
  state_os_lba0_abs              = next_state_os_lba0_abs ;
  state_os_lba1_abs              = next_state_os_lba1_abs ;
  state_os_lba2_abs              = next_state_os_lba2_abs ;
  state_os_lba3_abs              = next_state_os_lba3_abs ;
  state_os_lba4_abs              = next_state_os_lba4_abs ;
  state_os_lba5_abs              = next_state_os_lba5_abs ;
  state_os_sect0_abs             = next_state_os_sect0_abs ;
  state_os_sect1_abs             = next_state_os_sect1_abs ;
  state_os_buf_abs               = next_state_os_buf_abs ;
  state_osState_conc             = next_state_osState_conc ;
 end
 
 
endmodule
-------------------------------
#!SYNTCOMP
STATUS : unrealizable
SOLVED_BY : 3/3 [2015-pre-classification]
SOLVED_IN : 0.134839 [2015-pre-classification]
#.
