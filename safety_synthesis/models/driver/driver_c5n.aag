aag 997 52 79 1 866
2
4
6
8
10
12
14
16
18
20
22
24
26
28
30
32
34
36
38
40
42
44
46
48
50
52
54
56
58
60
62
64
66
68
70
72
74
76
78
80
82
84
86
88
90
92
94
96
98
100
102
104
106 1
108 359
110 371
112 383
114 399
116 411
118 423
120 435
122 447
124 465
126 477
128 489
130 501
132 513
134 525
136 537
138 549
140 647
142 666
144 684
146 701
148 713
150 725
152 737
154 749
156 761
158 773
160 785
162 797
164 821
166 839
168 857
170 867
172 881
174 903
176 921
178 939
180 1093
182 1121
184 1127
186 1133
188 1139
190 1151
192 1163
194 1175
196 1679
198 1728
200 1766
202 1804
204 1811
206 1817
208 1823
210 1829
212 1835
214 1841
216 1847
218 1853
220 1859
222 1860
224 1868
226 1878
228 1889
230 1895
232 1901
234 1907
236 1913
238 1919
240 1929
242 1935
244 1941
246 1947
248 1953
250 1959
252 1965
254 1971
256 1977
258 1983
260 1989
262 1995
333
264 227 106
266 226 106
268 265 106
270 225 106
272 224 106
274 271 106
276 223 106
278 222 106
280 277 106
282 281 275
284 282 269
286 285 268
288 286 283
290 280 272
292 291 283
294 283 269
296 282 266
298 297 295
300 292 280
302 300 298
304 303 289
306 95 93
308 306 97
310 309 96
312 310 307
314 94 92
316 315 307
318 307 97
320 306 96
322 321 319
324 92 91
326 324 316
328 326 322
330 329 313
332 330 304
334 93 91
336 334 95
338 336 97
340 338 54
342 4 3
344 342 7
346 344 340
348 109 106
350 108 106
352 349 106
354 346 8
356 350 347
358 357 355
360 111 106
362 110 106
364 361 106
366 346 10
368 362 347
370 369 367
372 113 106
374 112 106
376 373 106
378 346 12
380 374 347
382 381 379
384 334 94
386 384 97
388 115 106
390 114 106
392 389 106
394 386 28
396 390 387
398 397 395
400 117 106
402 116 106
404 401 106
406 386 30
408 402 387
410 409 407
412 119 106
414 118 106
416 413 106
418 386 32
420 414 387
422 421 419
424 121 106
426 120 106
428 425 106
430 386 14
432 426 387
434 433 431
436 123 106
438 122 106
440 437 106
442 386 16
444 438 387
446 445 443
448 5 2
450 448 7
452 450 340
454 125 106
456 124 106
458 455 106
460 452 8
462 456 453
464 463 461
466 127 106
468 126 106
470 467 106
472 452 10
474 468 453
476 475 473
478 129 106
480 128 106
482 479 106
484 386 68
486 480 387
488 487 485
490 131 106
492 130 106
494 491 106
496 386 70
498 492 387
500 499 497
502 133 106
504 132 106
506 503 106
508 386 72
510 504 387
512 511 509
514 135 106
516 134 106
518 515 106
520 386 34
522 516 387
524 523 521
526 137 106
528 136 106
530 527 106
532 386 36
534 528 387
536 535 533
538 139 106
540 138 106
542 539 106
544 386 38
546 540 387
548 547 545
550 93 90
552 550 95
554 552 96
556 141 106
558 140 106
560 557 106
562 143 106
564 142 106
566 563 106
568 145 106
570 144 106
572 569 106
574 565 559
576 574 571
578 576 554
580 469 458
582 580 578
584 470 457
586 584 578
588 470 458
590 588 578
592 364 352
594 592 376
596 594 590
598 565 560
600 598 571
602 600 554
604 602 88
606 566 559
608 606 571
610 608 554
612 610 98
614 566 560
616 614 571
618 616 554
620 618 56
622 574 572
624 622 554
626 624 56
628 627 558
630 628 621
632 630 613
634 632 605
636 634 591
638 636 597
640 639 597
642 641 587
644 642 583
646 645 583
648 627 564
650 648 621
652 650 613
654 652 605
656 654 591
658 656 597
660 659 597
662 661 587
664 663 587
666 665 583
668 627 570
670 668 621
672 670 613
674 672 605
676 674 591
678 677 591
680 679 597
682 680 587
684 682 583
686 324 95
688 686 97
690 147 106
692 146 106
694 691 106
696 688 74
698 692 689
700 699 697
702 149 106
704 148 106
706 703 106
708 688 76
710 704 689
712 711 709
714 151 106
716 150 106
718 715 106
720 688 78
722 716 689
724 723 721
726 153 106
728 152 106
730 727 106
732 688 80
734 728 689
736 735 733
738 155 106
740 154 106
742 739 106
744 688 82
746 740 689
748 747 745
750 157 106
752 156 106
754 751 106
756 688 84
758 752 689
760 759 757
762 159 106
764 158 106
766 763 106
768 386 48
770 764 387
772 771 769
774 161 106
776 160 106
778 775 106
780 386 50
782 776 387
784 783 781
786 163 106
788 162 106
790 787 106
792 386 52
794 788 387
796 795 793
798 4 2
800 798 7
802 800 340
804 253 106
806 252 106
808 805 106
810 165 106
812 164 106
814 811 106
816 806 802
818 812 803
820 819 817
822 255 106
824 254 106
826 823 106
828 167 106
830 166 106
832 829 106
834 824 802
836 830 803
838 837 835
840 257 106
842 256 106
844 841 106
846 169 106
848 168 106
850 847 106
852 842 802
854 848 803
856 855 853
858 342 6
860 858 340
862 860 12
864 861 12
866 865 863
868 338 55
870 5 3
872 870 7
874 872 868
876 874 8
878 875 8
880 879 877
882 870 6
884 882 340
886 259 106
888 258 106
890 887 106
892 175 106
894 174 106
896 893 106
898 888 884
900 894 885
902 901 899
904 261 106
906 260 106
908 905 106
910 177 106
912 176 106
914 911 106
916 906 884
918 912 885
920 919 917
922 263 106
924 262 106
926 923 106
928 179 106
930 178 106
932 929 106
934 924 884
936 930 885
938 937 935
940 172 106
942 941 8
944 181 106
946 180 106
948 945 106
950 946 943
952 183 106
954 182 106
956 953 106
958 956 947
960 221 106
962 220 106
964 961 106
966 229 106
968 228 106
970 967 106
972 231 106
974 230 106
976 973 106
978 232 106
980 975 970
982 980 979
984 983 964
986 976 969
988 986 979
990 989 963
992 991 985
994 692 353
996 695 350
998 997 995
1000 704 365
1002 707 362
1004 1003 1001
1006 716 377
1008 719 374
1010 1009 1007
1012 1004 998
1014 1012 1010
1016 1014 992
1018 185 106
1020 184 106
1022 1019 106
1024 1023 728
1026 1020 731
1028 1027 1025
1030 187 106
1032 186 106
1034 1031 106
1036 1035 740
1038 1032 743
1040 1039 1037
1042 189 106
1044 188 106
1046 1043 106
1048 1047 752
1050 1044 755
1052 1051 1049
1054 1040 1028
1056 1054 1052
1058 1056 1016
1060 171 106
1062 1061 106
1064 1062 1058
1066 946 47
1068 1067 47
1070 1065 946
1072 1069 1064
1074 1073 1071
1076 956 948
1078 1076 86
1080 1079 946
1082 1075 958
1084 1080 959
1086 1085 1083
1088 950 874
1090 1087 875
1092 1091 1089
1094 954 943
1096 1095 943
1098 954 47
1100 1099 47
1102 1065 954
1104 1101 1064
1106 1105 1103
1108 1079 954
1110 1107 958
1112 1108 959
1114 1113 1111
1116 1097 874
1118 1115 875
1120 1119 1117
1122 350 346
1124 1020 347
1126 1125 1123
1128 362 346
1130 1032 347
1132 1131 1129
1134 374 346
1136 1044 347
1138 1137 1135
1140 191 106
1142 190 106
1144 1141 106
1146 386 100
1148 1142 387
1150 1149 1147
1152 193 106
1154 192 106
1156 1153 106
1158 386 102
1160 1154 387
1162 1161 1159
1164 195 106
1166 194 106
1168 1165 106
1170 386 104
1172 1166 387
1174 1173 1171
1176 197 106
1178 196 106
1180 1177 106
1182 199 106
1184 198 106
1186 1183 106
1188 201 106
1190 200 106
1192 1189 106
1194 203 106
1196 202 106
1198 1195 106
1200 1185 1179
1202 1200 1191
1204 1202 1197
1206 92 90
1208 1206 95
1210 1208 97
1212 1210 1204
1214 1185 1180
1216 1214 1191
1218 1216 1197
1220 608 98
1222 1220 1218
1224 1222 554
1226 1186 1179
1228 1226 1191
1230 1228 1197
1232 622 56
1234 1232 1230
1236 1234 554
1238 1186 1180
1240 1238 1191
1242 1240 1197
1244 1242 386
1246 1244 67
1248 1244 66
1250 1200 1192
1252 1250 1197
1254 1252 1078
1256 806 519
1258 809 516
1260 1259 1257
1262 824 531
1264 827 528
1266 1265 1263
1268 842 543
1270 845 540
1272 1271 1269
1274 1266 1260
1276 1274 1272
1278 235 106
1280 234 106
1282 1279 106
1284 1283 812
1286 1280 815
1288 1287 1285
1290 237 106
1292 236 106
1294 1291 106
1296 1295 830
1298 1292 833
1300 1299 1297
1302 239 106
1304 238 106
1306 1303 106
1308 1307 848
1310 1304 851
1312 1311 1309
1314 1300 1288
1316 1314 1312
1318 1316 1276
1320 1145 888
1322 1142 891
1324 1323 1321
1326 1157 906
1328 1154 909
1330 1329 1327
1332 1169 924
1334 1166 927
1336 1335 1333
1338 1330 1324
1340 1338 1336
1342 1340 1318
1344 894 393
1346 897 390
1348 1347 1345
1350 912 405
1352 915 402
1354 1353 1351
1356 930 417
1358 933 414
1360 1359 1357
1362 1354 1348
1364 1362 1360
1366 1364 1342
1368 215 106
1370 214 106
1372 1369 106
1374 241 106
1376 240 106
1378 1375 106
1380 1376 1373
1382 1379 1370
1384 1383 1381
1386 217 106
1388 216 106
1390 1387 106
1392 243 106
1394 242 106
1396 1393 106
1398 1394 1391
1400 1397 1388
1402 1401 1399
1404 219 106
1406 218 106
1408 1405 106
1410 245 106
1412 244 106
1414 1411 106
1416 1412 1409
1418 1415 1406
1420 1419 1417
1422 1402 1384
1424 1422 1420
1426 1424 1366
1428 247 106
1430 246 106
1432 1429 106
1434 1430 767
1436 1433 764
1438 1437 1435
1440 249 106
1442 248 106
1444 1441 106
1446 1442 779
1448 1445 776
1450 1449 1447
1452 251 106
1454 250 106
1456 1453 106
1458 1454 791
1460 1457 788
1462 1461 1459
1464 1450 1438
1466 1464 1462
1468 1466 1426
1470 483 350
1472 480 353
1474 1473 1471
1476 495 362
1478 492 365
1480 1479 1477
1482 507 374
1484 504 377
1486 1485 1483
1488 1480 1474
1490 1488 1486
1492 1490 1468
1494 209 106
1496 208 106
1498 1495 106
1500 1499 1020
1502 1496 1023
1504 1503 1501
1506 211 106
1508 210 106
1510 1507 106
1512 1511 1032
1514 1508 1035
1516 1515 1513
1518 213 106
1520 212 106
1522 1519 106
1524 1523 1044
1526 1520 1047
1528 1527 1525
1530 1516 1504
1532 1530 1528
1534 1532 1492
1536 205 106
1538 204 106
1540 1537 106
1542 1538 429
1544 1541 426
1546 1545 1543
1548 207 106
1550 206 106
1552 1549 106
1554 1550 441
1556 1553 438
1558 1557 1555
1560 1558 1546
1562 1560 1534
1564 1562 963
1566 1565 1254
1568 1566 554
1570 1254 58
1572 1570 554
1574 1254 59
1576 1574 554
1578 1214 1192
1580 1578 1197
1582 1580 1078
1584 1562 964
1586 1585 1582
1588 1586 554
1590 1582 58
1592 1590 554
1594 1582 59
1596 1594 554
1598 1226 1192
1600 1598 1197
1602 550 94
1604 1602 97
1606 1604 1600
1608 1238 1192
1610 1608 1197
1612 324 94
1614 1612 97
1616 1614 1610
1618 1202 1198
1620 1206 94
1622 1620 97
1624 1622 1618
1626 1216 1198
1628 336 96
1630 1628 1626
1632 1631 1178
1634 1633 1631
1636 1635 1625
1638 1637 1625
1640 1639 1617
1642 1641 1617
1644 1643 1607
1646 1645 1607
1648 1647 1597
1650 1649 1597
1652 1651 1593
1654 1652 1589
1656 1654 1577
1658 1657 1577
1660 1659 1573
1662 1660 1569
1664 1662 1249
1666 1665 1249
1668 1667 1247
1670 1668 1237
1672 1671 1237
1674 1673 1225
1676 1674 1213
1678 1677 1213
1680 1631 1184
1682 1681 1631
1684 1683 1625
1686 1685 1625
1688 1687 1617
1690 1689 1617
1692 1691 1607
1694 1693 1607
1696 1695 1597
1698 1696 1593
1700 1698 1589
1702 1701 1589
1704 1703 1577
1706 1705 1577
1708 1707 1573
1710 1709 1573
1712 1711 1569
1714 1713 1569
1716 1715 1249
1718 1716 1247
1720 1718 1237
1722 1721 1237
1724 1723 1225
1726 1725 1225
1728 1727 1213
1730 1631 1190
1732 1730 1625
1734 1732 1617
1736 1734 1607
1738 1736 1597
1740 1738 1593
1742 1740 1589
1744 1742 1577
1746 1745 1577
1748 1747 1573
1750 1749 1573
1752 1751 1569
1754 1752 1249
1756 1755 1249
1758 1757 1247
1760 1759 1247
1762 1761 1237
1764 1762 1225
1766 1764 1213
1768 1631 1196
1770 1768 1625
1772 1770 1617
1774 1772 1607
1776 1774 1597
1778 1777 1597
1780 1779 1593
1782 1781 1593
1784 1783 1589
1786 1785 1589
1788 1787 1577
1790 1788 1573
1792 1790 1569
1794 1793 1569
1796 1795 1249
1798 1796 1247
1800 1798 1237
1802 1800 1225
1804 1802 1213
1806 688 24
1808 1538 689
1810 1809 1807
1812 688 26
1814 1550 689
1816 1815 1813
1818 386 60
1820 1496 387
1822 1821 1819
1824 386 62
1826 1508 387
1828 1827 1825
1830 386 64
1832 1520 387
1834 1833 1831
1836 386 40
1838 1370 387
1840 1839 1837
1842 386 42
1844 1388 387
1846 1845 1843
1848 386 44
1850 1406 387
1852 1851 1849
1854 874 10
1856 875 10
1858 1857 1855
1860 1243 281
1862 278 275
1864 279 272
1866 1865 1863
1868 1867 1243
1870 278 272
1872 1870 269
1874 1871 266
1876 1875 1873
1878 1877 1243
1880 798 6
1882 1880 340
1884 1882 8
1886 1883 968
1888 1887 1885
1890 1882 10
1892 1883 974
1894 1893 1891
1896 1882 12
1898 1883 978
1900 1899 1897
1902 386 18
1904 1280 387
1906 1905 1903
1908 386 20
1910 1292 387
1912 1911 1909
1914 386 22
1916 1304 387
1918 1917 1915
1920 448 6
1922 1920 340
1924 1922 8
1926 1923 1376
1928 1927 1925
1930 1922 10
1932 1923 1394
1934 1933 1931
1936 1922 12
1938 1923 1412
1940 1939 1937
1942 1922 1376
1944 1923 1430
1946 1945 1943
1948 1922 1394
1950 1923 1442
1952 1951 1949
1954 1922 1412
1956 1923 1454
1958 1957 1955
1960 802 8
1962 806 803
1964 1963 1961
1966 802 10
1968 824 803
1970 1969 1967
1972 802 12
1974 842 803
1976 1975 1973
1978 884 8
1980 888 885
1982 1981 1979
1984 884 10
1986 906 885
1988 1987 1985
1990 884 12
1992 924 885
1994 1993 1991
i0 controllable_addr_abs<0>
i1 controllable_addr_abs<1>
i2 controllable_addr_abs<2>
i3 controllable_write8_val_abs<0>
i4 controllable_write8_val_abs<1>
i5 controllable_write8_val_abs<2>
i6 i_reqBuf_abs<0>
i7 i_reqBuf_abs<1>
i8 i_reqLBA1_abs<0>
i9 i_reqLBA1_abs<1>
i10 i_reqLBA1_abs<2>
i11 controllable_fillPrdAddr_abs<0>
i12 controllable_fillPrdAddr_abs<1>
i13 i_reqLBA3_abs<0>
i14 i_reqLBA3_abs<1>
i15 i_reqLBA3_abs<2>
i16 i_reqLBA0_abs<0>
i17 i_reqLBA0_abs<1>
i18 i_reqLBA0_abs<2>
i19 i_reqLBA4_abs<0>
i20 i_reqLBA4_abs<1>
i21 i_reqLBA4_abs<2>
i22 controllable_dmaStartClass_conc
i23 i_reqLBA5_abs<0>
i24 i_reqLBA5_abs<1>
i25 i_reqLBA5_abs<2>
i26 controllable_bank_abs
i27 controllable_featXFRClass_conc
i28 i_transSuccess_conc
i29 i_reqSect1_abs<0>
i30 i_reqSect1_abs<1>
i31 i_reqSect1_abs<2>
i32 i_osReqType_conc
i33 i_reqSect0_abs<0>
i34 i_reqSect0_abs<1>
i35 i_reqSect0_abs<2>
i36 controllable_fillPrdNSect_abs<0>
i37 controllable_fillPrdNSect_abs<1>
i38 controllable_fillPrdNSect_abs<2>
i39 controllable_fillPrdNSect_abs<3>
i40 controllable_fillPrdNSect_abs<4>
i41 controllable_fillPrdNSect_abs<5>
i42 controllable_busMasterClass_conc
i43 controllable_featWCClass_conc
i44 controllable_tag_conc<0>
i45 controllable_tag_conc<1>
i46 controllable_tag_conc<2>
i47 controllable_tag_conc<3>
i48 controllable_featNWCClass_conc
i49 i_reqLBA2_abs<0>
i50 i_reqLBA2_abs<1>
i51 i_reqLBA2_abs<2>
l0 n107
l1 state_regSectors0_abs<0>_out
l2 state_regSectors0_abs<1>_out
l3 state_regSectors0_abs<2>_out
l4 state_os_lba3_abs<0>_out
l5 state_os_lba3_abs<1>_out
l6 state_os_lba3_abs<2>_out
l7 state_os_buf_abs<0>_out
l8 state_os_buf_abs<1>_out
l9 state_regFeature0_abs<0>_out
l10 state_regFeature0_abs<1>_out
l11 state_os_sect0_abs<0>_out
l12 state_os_sect0_abs<1>_out
l13 state_os_sect0_abs<2>_out
l14 state_os_lba0_abs<0>_out
l15 state_os_lba0_abs<1>_out
l16 state_os_lba0_abs<2>_out
l17 state_setFeatState_conc<0>_out
l18 state_setFeatState_conc<1>_out
l19 state_setFeatState_conc<2>_out
l20 state_bufSectors_abs<0>_out
l21 state_bufSectors_abs<1>_out
l22 state_bufSectors_abs<2>_out
l23 state_bufSectors_abs<3>_out
l24 state_bufSectors_abs<4>_out
l25 state_bufSectors_abs<5>_out
l26 state_os_lba5_abs<0>_out
l27 state_os_lba5_abs<1>_out
l28 state_os_lba5_abs<2>_out
l29 state_regLBALow1_abs<0>_out
l30 state_regLBALow1_abs<1>_out
l31 state_regLBALow1_abs<2>_out
l32 state_regDev_LBA_abs_out
l33 state_regBMCommand_Start_abs_out
l34 state_regLBAMid1_abs<0>_out
l35 state_regLBAMid1_abs<1>_out
l36 state_regLBAMid1_abs<2>_out
l37 state_stDMACmd_conc<0>_out
l38 state_stDMACmd_conc<1>_out
l39 state_regSectors1_abs<0>_out
l40 state_regSectors1_abs<1>_out
l41 state_regSectors1_abs<2>_out
l42 state_os_lba2_abs<0>_out
l43 state_os_lba2_abs<1>_out
l44 state_os_lba2_abs<2>_out
l45 state_osState_conc<0>_out
l46 state_osState_conc<1>_out
l47 state_osState_conc<2>_out
l48 state_osState_conc<3>_out
l49 state_bufAddr_abs<0>_out
l50 state_bufAddr_abs<1>_out
l51 state_os_sect1_abs<0>_out
l52 state_os_sect1_abs<1>_out
l53 state_os_sect1_abs<2>_out
l54 state_os_lba4_abs<0>_out
l55 state_os_lba4_abs<1>_out
l56 state_os_lba4_abs<2>_out
l57 state_regBMCommand_RW_abs_out
l58 fair_cnt<0>_out
l59 fair_cnt<1>_out
l60 fair_cnt<2>_out
l61 state_regCommand_abs<0>_out
l62 state_regCommand_abs<1>_out
l63 state_regCommand_abs<2>_out
l64 state_os_lba1_abs<0>_out
l65 state_os_lba1_abs<1>_out
l66 state_os_lba1_abs<2>_out
l67 state_regLBAHigh0_abs<0>_out
l68 state_regLBAHigh0_abs<1>_out
l69 state_regLBAHigh0_abs<2>_out
l70 state_regLBAHigh1_abs<0>_out
l71 state_regLBAHigh1_abs<1>_out
l72 state_regLBAHigh1_abs<2>_out
l73 state_regLBALow0_abs<0>_out
l74 state_regLBALow0_abs<1>_out
l75 state_regLBALow0_abs<2>_out
l76 state_regLBAMid0_abs<0>_out
l77 state_regLBAMid0_abs<1>_out
l78 state_regLBAMid0_abs<2>_out
o0 o_err
c
ide_hard_drive_controller_2
This file was written by ABC on Tue Mar 11 20:24:24 2014
For information about AIGER format, refer to http://fmv.jku.at/aiger
-------------------------------
This AIGER file has been created by the following sequence of commands:
> vl2mv driver_c5.v   ---gives--> driver_c5.mv
> abc -c "read_blif_mv driver_c5.mv; write_aiger -s driver_c5n.aig"   ---gives--> driver_c5n.aig
> aigtoaig driver_c5n.aig driver_c5n.aag   ---gives--> driver_c5n.aag (this file)
Content of driver_c5.v:
// IDE hard drive controller specification and operating system interface
// specification for device driver synthesis.
// This file describes a GR(1) game played by a device driver for an IDE hard
// disk against its environment consisting of the hard disk and operating
// system.

`define WIDTH1 2
`define WIDTH2 1

`define CMD_READ_DMA_EXT  1
`define CMD_WRITE_DMA_EXT 2
`define FEAT_WC           1
`define FEAT_NWC          2
`define FEAT_XFR_MODE     3
`define XM_ULTRA_DMA      7

`define RCMD              1
`define REG_FEATURE0      1
`define REG_SECTORS       2
`define REG_LBA_LOW       3
`define REG_LBA_MID       4
`define REG_LBA_HIGH      5
`define REG_DEV           6
`define REG_ERRCMD        7

`define RDMA              0
`define REG_BM_COMMAND    0

//typedef enum {read=0, write=1} i_osReqType_enum;
`define read              0
`define write             1

//typedef enum {write8, write32, fillPrd, reset, os_req, ack_read_succ, ack_read_fail, ack_write_succ, ack_write_fail, class_event} controllable_tag_enum;
`define write8            0
`define write32           1
`define fillPrd           2
`define reset             3
`define os_req            4
`define ack_read_succ     5
`define ack_read_fail     6
`define ack_write_succ    7
`define ack_write_fail    8
`define class_event       9

//typedef enum {wait_bm_ready=0, dma_read=1, bm_read_prd=2, bm_ready=3} state_stDMACmd_enum;
`define wait_bm_ready     0
`define dma_read          1
`define bm_read_prd       2
`define bm_ready          3


//typedef enum {setFeatIdle=0, setFeatWC=1, setFeatNWC=2, setFeatXFR0=3, setFeatXFR1=4} state_setFeatState_enum;
`define setFeatIdle       0
`define setFeatWC         1
`define setFeatNWC        2
`define setFeatXFR0       3
`define setFeatXFR1       4

//typedef enum {os_init=0, os_reset=1, os_write_cache=2, os_idle=3, os_read_pending=4, os_write_pending=5, os_read_ack_succ=6, os_read_ack_fail=7, os_write_ack_succ=8, os_write_ack_fail=9, os_error=10} state_osState_enum;
`define os_init           0
`define os_reset          1
`define os_write_cache    2
`define os_idle           3
`define os_read_pending   4
`define os_write_pending  5
`define os_read_ack_succ  6
`define os_read_ack_fail  7
`define os_write_ack_succ 8
`define os_write_ack_fail 9
`define os_error          10

module ide_hard_drive_controller_2(
        o_err,
        i_clk,
        i_osReqType_conc,
        i_reqLBA0_abs,
        i_reqLBA1_abs,
        i_reqLBA2_abs,
        i_reqLBA3_abs,
        i_reqLBA4_abs,
        i_reqLBA5_abs,
        i_reqSect0_abs,
        i_reqSect1_abs,
        i_reqBuf_abs,
        i_transSuccess_conc,
        controllable_tag_conc,
        controllable_bank_abs,
        controllable_addr_abs,
        controllable_write8_val_abs,
        controllable_fillPrdAddr_abs,
        controllable_fillPrdNSect_abs,
        controllable_featWCClass_conc,
        controllable_featNWCClass_conc,
        controllable_featXFRClass_conc,
        controllable_busMasterClass_conc,
        controllable_dmaStartClass_conc );

input i_clk;
input i_osReqType_conc ;
input [`WIDTH1:0] i_reqLBA0_abs ;
input [`WIDTH1:0] i_reqLBA1_abs ;
input [`WIDTH1:0] i_reqLBA2_abs ;
input [`WIDTH1:0] i_reqLBA3_abs ;
input [`WIDTH1:0] i_reqLBA4_abs ;
input [`WIDTH1:0] i_reqLBA5_abs ;
input [`WIDTH1:0] i_reqSect0_abs ;
input [`WIDTH1:0] i_reqSect1_abs ;
input [`WIDTH2:0] i_reqBuf_abs ;
input i_transSuccess_conc ;
input [3:0] controllable_tag_conc ;
input controllable_bank_abs ;
input [2:0] controllable_addr_abs ;
input [`WIDTH1:0] controllable_write8_val_abs ;
input [`WIDTH2:0] controllable_fillPrdAddr_abs ;
input [5:0] controllable_fillPrdNSect_abs ;
input controllable_featWCClass_conc ;
input controllable_featNWCClass_conc ;
input controllable_featXFRClass_conc ;
input controllable_busMasterClass_conc ;
input controllable_dmaStartClass_conc ;
output o_err;

reg [1:0] state_stDMACmd_conc ;
reg [2:0] state_setFeatState_conc ;
reg [1:0] state_regFeature0_abs ;
reg [`WIDTH1:0] state_regSectors0_abs ;
reg [`WIDTH1:0] state_regSectors1_abs ;
reg [`WIDTH1:0] state_regLBALow0_abs ;
reg [`WIDTH1:0] state_regLBALow1_abs ;
reg [`WIDTH1:0] state_regLBAMid0_abs ;
reg [`WIDTH1:0] state_regLBAMid1_abs ;
reg [`WIDTH1:0] state_regLBAHigh0_abs ;
reg [`WIDTH1:0] state_regLBAHigh1_abs ;
reg state_regDev_LBA_abs ;
reg [`WIDTH1:0] state_regCommand_abs ;
reg state_regBMCommand_Start_abs ;
reg state_regBMCommand_RW_abs ;
reg [`WIDTH2:0] state_bufAddr_abs ;
reg [5:0] state_bufSectors_abs ;

reg [3:0] state_osState_conc ;
reg [`WIDTH1:0] state_os_lba0_abs ;
reg [`WIDTH1:0] state_os_lba1_abs ;
reg [`WIDTH1:0] state_os_lba2_abs ;
reg [`WIDTH1:0] state_os_lba3_abs ;
reg [`WIDTH1:0] state_os_lba4_abs ;
reg [`WIDTH1:0] state_os_lba5_abs ;
reg [`WIDTH1:0] state_os_sect0_abs ;
reg [`WIDTH1:0] state_os_sect1_abs ;
reg [`WIDTH2:0] state_os_buf_abs ;

reg [2:0] fair_cnt;

wire transferMode3;
wire nwc;
wire bm_event;
wire transferCorrect;
wire transferCorrect_0;
wire transferCorrect_1;
wire buechi_satisfied;
wire [1:0] next_state_stDMACmd_conc ;
wire [2:0] next_state_setFeatState_conc ;
wire [1:0] next_state_regFeature0_abs ;
wire [`WIDTH1:0] next_state_regSectors0_abs ;
wire [`WIDTH1:0] next_state_regSectors1_abs ;
wire [`WIDTH1:0] next_state_regLBALow0_abs ;
wire [`WIDTH1:0] next_state_regLBALow1_abs ;
wire [`WIDTH1:0] next_state_regLBAMid0_abs ;
wire [`WIDTH1:0] next_state_regLBAMid1_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh0_abs ;
wire [`WIDTH1:0] next_state_regLBAHigh1_abs ;
wire next_state_regDev_LBA_abs ;
wire [`WIDTH1:0] next_state_regCommand_abs ;
wire next_state_regBMCommand_Start_abs ;
wire next_state_regBMCommand_RW_abs ;
wire [`WIDTH2:0] next_state_bufAddr_abs ;
wire [5:0] next_state_bufSectors_abs ;

wire [3:0] next_state_osState_conc ;
wire [`WIDTH1:0] next_state_os_lba0_abs ;
wire [`WIDTH1:0] next_state_os_lba1_abs ;
wire [`WIDTH1:0] next_state_os_lba2_abs ;
wire [`WIDTH1:0] next_state_os_lba3_abs ;
wire [`WIDTH1:0] next_state_os_lba4_abs ;
wire [`WIDTH1:0] next_state_os_lba5_abs ;
wire [`WIDTH1:0] next_state_os_sect0_abs ;
wire [`WIDTH1:0] next_state_os_sect1_abs ;
wire [`WIDTH2:0] next_state_os_buf_abs ;

// some abbreviations:
assign transferMode3 = (state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1);
assign nwc =           (state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1);
assign bm_event = (state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1);
assign transferCorrect = (state_os_lba0_abs==state_regLBALow0_abs    &&
                          state_os_lba1_abs==state_regLBALow1_abs    &&
                          state_os_lba2_abs==state_regLBAMid0_abs    &&
                          state_os_lba3_abs==state_regLBAMid1_abs    &&
                          state_os_lba4_abs==state_regLBAHigh0_abs   &&
                          state_os_lba5_abs==state_regLBAHigh1_abs   &&
                          state_os_sect0_abs==state_regSectors0_abs  &&
                          state_os_sect1_abs==state_regSectors1_abs  &&
                          state_os_buf_abs==state_bufAddr_abs);
assign transferCorrect_0 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==0);
assign transferCorrect_1 = (transferCorrect      &&
                            state_regBMCommand_RW_abs==1);


// state updates:
  //Device state updates:
assign next_state_regFeature0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_FEATURE0) ? controllable_write8_val_abs  : state_regFeature0_abs;
assign next_state_regSectors0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? controllable_write8_val_abs  : state_regSectors0_abs;
assign next_state_regSectors1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_SECTORS)  ? state_regSectors0_abs : state_regSectors1_abs;
assign next_state_regLBALow0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? controllable_write8_val_abs  : state_regLBALow0_abs;
assign next_state_regLBALow1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_LOW)  ? state_regLBALow0_abs  : state_regLBALow1_abs;
assign next_state_regLBAMid0_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? controllable_write8_val_abs  : state_regLBAMid0_abs;
assign next_state_regLBAMid1_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_MID)  ? state_regLBAMid0_abs  : state_regLBAMid1_abs;
assign next_state_regLBAHigh0_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? controllable_write8_val_abs  : state_regLBAHigh0_abs;
assign next_state_regLBAHigh1_abs  = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_LBA_HIGH) ? state_regLBAHigh0_abs : state_regLBAHigh1_abs;
assign next_state_regDev_LBA_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_DEV)      ? controllable_write8_val_abs[2:2] : state_regDev_LBA_abs;
assign next_state_regCommand_abs   = (controllable_tag_conc==`write8 && controllable_bank_abs==`RCMD && controllable_addr_abs==`REG_ERRCMD)   ? controllable_write8_val_abs  : state_regCommand_abs;
assign next_state_regBMCommand_Start_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[0:0] : state_regBMCommand_Start_abs;
assign next_state_regBMCommand_RW_abs = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ? controllable_write8_val_abs[1:1] : state_regBMCommand_RW_abs;
assign next_state_bufAddr_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdAddr_abs : state_bufAddr_abs;
assign next_state_bufSectors_abs = (controllable_tag_conc==`fillPrd) ? controllable_fillPrdNSect_abs : state_bufSectors_abs;

assign next_state_setFeatState_conc = (controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_WC) ? `setFeatWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_NWC) ? `setFeatNWC :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE && state_regSectors0_abs==`XM_ULTRA_DMA) ? `setFeatXFR0 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatIdle && state_regFeature0_abs==`FEAT_XFR_MODE) ? `setFeatXFR1 :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatWC   && controllable_featWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatNWC  && controllable_featNWCClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR0 && controllable_featXFRClass_conc==1) ? `setFeatIdle :
                 ((controllable_tag_conc==`class_event && state_setFeatState_conc==`setFeatXFR1 && controllable_featXFRClass_conc==1) ? `setFeatIdle : state_setFeatState_conc)))))));

assign next_state_stDMACmd_conc = (controllable_tag_conc==`write8 && controllable_bank_abs==`RDMA && controllable_addr_abs==`REG_BM_COMMAND) ?
               (
                 (state_regBMCommand_Start_abs==0 && controllable_write8_val_abs[0:0]==1) ? `bm_read_prd : state_stDMACmd_conc
               ) :
               (
                 (state_stDMACmd_conc==`bm_read_prd) ?
                 (((state_regBMCommand_RW_abs == 1 && state_regCommand_abs != `CMD_READ_DMA_EXT) || (state_regBMCommand_RW_abs == 0 && state_regCommand_abs != `CMD_WRITE_DMA_EXT) || (state_regSectors0_abs != state_bufSectors_abs[`WIDTH1:0]) || (state_regSectors1_abs != state_bufSectors_abs[5:3]) || state_regDev_LBA_abs != 1) ? state_stDMACmd_conc : ((controllable_dmaStartClass_conc==1) ? `bm_ready : state_stDMACmd_conc)) :
                 ((state_stDMACmd_conc==`bm_ready && controllable_busMasterClass_conc==1) ? `wait_bm_ready : state_stDMACmd_conc)
               );

//OS state updates
assign next_state_os_lba0_abs = (controllable_tag_conc==`os_req) ? i_reqLBA0_abs : state_os_lba0_abs;
assign next_state_os_lba1_abs = (controllable_tag_conc==`os_req) ? i_reqLBA1_abs : state_os_lba1_abs;
assign next_state_os_lba2_abs = (controllable_tag_conc==`os_req) ? i_reqLBA2_abs : state_os_lba2_abs;
assign next_state_os_lba3_abs = (controllable_tag_conc==`os_req) ? i_reqLBA3_abs : state_os_lba3_abs;
assign next_state_os_lba4_abs = (controllable_tag_conc==`os_req) ? i_reqLBA4_abs : state_os_lba4_abs;
assign next_state_os_lba5_abs = (controllable_tag_conc==`os_req) ? i_reqLBA5_abs : state_os_lba5_abs;
assign next_state_os_sect0_abs = (controllable_tag_conc==`os_req) ? i_reqSect0_abs : state_os_sect0_abs;
assign next_state_os_sect1_abs = (controllable_tag_conc==`os_req) ? i_reqSect1_abs : state_os_sect1_abs;
assign next_state_os_buf_abs = (controllable_tag_conc==`os_req) ? i_reqBuf_abs : state_os_buf_abs;

assign next_state_osState_conc = (state_osState_conc==`os_init && controllable_tag_conc==`reset) ? `os_reset :
      ((state_osState_conc==`os_reset && nwc && controllable_tag_conc==`class_event) ? `os_write_cache :
      ((state_osState_conc==`os_write_cache && transferMode3 && controllable_tag_conc==`class_event) ? `os_idle :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`read) ? `os_read_pending :
      ((state_osState_conc==`os_idle && controllable_tag_conc==`os_req && i_osReqType_conc==`write) ? `os_write_pending :
      ((state_osState_conc==`os_read_pending && bm_event && !transferCorrect_0 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_read_ack_succ :
      ((state_osState_conc==`os_read_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_read_ack_fail :
      ((state_osState_conc==`os_write_pending && bm_event && !transferCorrect_1 && controllable_tag_conc==`class_event) ? `os_error :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==1 && controllable_tag_conc==`class_event) ? `os_write_ack_succ :
      ((state_osState_conc==`os_write_pending && bm_event && i_transSuccess_conc==0 && controllable_tag_conc==`class_event) ? `os_write_ack_fail :
      ((state_osState_conc==`os_read_ack_succ && controllable_tag_conc==`ack_read_succ) ? `os_idle :
      ((state_osState_conc==`os_read_ack_fail && controllable_tag_conc==`ack_read_fail) ? `os_idle :
      ((state_osState_conc==`os_write_ack_succ && controllable_tag_conc==`ack_write_succ) ? `os_idle :
      ((state_osState_conc==`os_write_ack_fail && controllable_tag_conc==`ack_write_fail) ? `os_idle : state_osState_conc))))))))))))));


// buechi-to-safety construction:                            
assign buechi_satisfied = (state_osState_conc == `os_idle);                          
                            
assign o_err = (fair_cnt >= 5) || controllable_tag_conc >= 10;

initial
 begin
  state_stDMACmd_conc = `wait_bm_ready;
  state_setFeatState_conc = `setFeatIdle;
  state_regFeature0_abs = 0;
  state_regSectors0_abs = 0;
  state_regSectors1_abs = 0;
  state_regLBALow0_abs = 0;
  state_regLBALow1_abs = 0;
  state_regLBAMid0_abs = 0;
  state_regLBAMid1_abs = 0;
  state_regLBAHigh0_abs = 0;
  state_regLBAHigh1_abs = 0;
  state_regDev_LBA_abs = 0;
  state_regCommand_abs = 0;
  state_regBMCommand_Start_abs = 0;
  state_regBMCommand_RW_abs = 0;
  state_bufAddr_abs = 0;
  state_bufSectors_abs = 0;
  state_osState_conc = `os_init;
  state_os_lba0_abs = 0;
  state_os_lba1_abs = 0;
  state_os_lba2_abs = 0;
  state_os_lba3_abs = 0;
  state_os_lba4_abs = 0;
  state_os_lba5_abs = 0;
  state_os_sect0_abs = 0;
  state_os_sect1_abs = 0;
  state_os_buf_abs = 0;
  fair_cnt = 0;
 end

always @(posedge i_clk)
 begin

  if(buechi_satisfied)
   begin
    fair_cnt = 0;
   end
  else
   begin
    fair_cnt = fair_cnt + 1;
   end
 
  //Device state updates:
  state_regFeature0_abs          = next_state_regFeature0_abs ;
  state_regSectors0_abs          = next_state_regSectors0_abs ;
  state_regSectors1_abs          = next_state_regSectors1_abs ;
  state_regLBALow0_abs           = next_state_regLBALow0_abs ;
  state_regLBALow1_abs           = next_state_regLBALow1_abs ;
  state_regLBAMid0_abs           = next_state_regLBAMid0_abs ;
  state_regLBAMid1_abs           = next_state_regLBAMid1_abs ;
  state_regLBAHigh0_abs          = next_state_regLBAHigh0_abs ;
  state_regLBAHigh1_abs          = next_state_regLBAHigh1_abs ;
  state_regDev_LBA_abs           = next_state_regDev_LBA_abs ;
  state_regCommand_abs           = next_state_regCommand_abs ;
  state_regBMCommand_Start_abs   = next_state_regBMCommand_Start_abs ;
  state_regBMCommand_RW_abs      = next_state_regBMCommand_RW_abs ;
  state_bufAddr_abs              = next_state_bufAddr_abs ;
  state_bufSectors_abs           = next_state_bufSectors_abs ;
  state_setFeatState_conc        = next_state_setFeatState_conc ;
  state_stDMACmd_conc            = next_state_stDMACmd_conc ;
  state_os_lba0_abs              = next_state_os_lba0_abs ;
  state_os_lba1_abs              = next_state_os_lba1_abs ;
  state_os_lba2_abs              = next_state_os_lba2_abs ;
  state_os_lba3_abs              = next_state_os_lba3_abs ;
  state_os_lba4_abs              = next_state_os_lba4_abs ;
  state_os_lba5_abs              = next_state_os_lba5_abs ;
  state_os_sect0_abs             = next_state_os_sect0_abs ;
  state_os_sect1_abs             = next_state_os_sect1_abs ;
  state_os_buf_abs               = next_state_os_buf_abs ;
  state_osState_conc             = next_state_osState_conc ;
 end
 
 
endmodule
-------------------------------
#!SYNTCOMP
SOLVED_BY : 3/3 [2015-pre-classification], 4/4 [2017-pre-classification], 10/10 [SYNTCOMP2017-RealSeq], 6/6 [SYNTCOMP2017-RealPar], 6/6 [SYNTCOMP2017-SyntSeq], 4/4 [SYNTCOMP2017-SyntPar]
SOLVED_IN : 5.57536 [2015-pre-classification], 0.032 [SYNTCOMP2017-RealSeq], 0.034521 [SYNTCOMP2017-RealPar]
STATUS : unrealizable
REF_SIZE : 0
#.
